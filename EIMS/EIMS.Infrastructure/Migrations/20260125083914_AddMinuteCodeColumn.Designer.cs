// <auto-generated />
using System;
using EIMS.Infrastructure.Persistence;
using Microsoft.EntityFrameworkCore;
using Microsoft.EntityFrameworkCore.Infrastructure;
using Microsoft.EntityFrameworkCore.Migrations;
using Microsoft.EntityFrameworkCore.Storage.ValueConversion;
using Npgsql.EntityFrameworkCore.PostgreSQL.Metadata;

#nullable disable

namespace EIMS.Infrastructure.Migrations
{
    [DbContext(typeof(ApplicationDbContext))]
    [Migration("20260125083914_AddMinuteCodeColumn")]
    partial class AddMinuteCodeColumn
    {
        /// <inheritdoc />
        protected override void BuildTargetModel(ModelBuilder modelBuilder)
        {
#pragma warning disable 612, 618
            modelBuilder
                .HasAnnotation("ProductVersion", "8.0.20")
                .HasAnnotation("Relational:MaxIdentifierLength", 63);

            NpgsqlModelBuilderExtensions.UseIdentityByDefaultColumns(modelBuilder);

            modelBuilder.Entity("EIMS.Domain.Entities.AuditLog", b =>
                {
                    b.Property<int>("AuditID")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("AuditID"));

                    b.Property<string>("Action")
                        .HasColumnType("text");

                    b.Property<string>("NewValues")
                        .HasColumnType("text");

                    b.Property<string>("OldValues")
                        .HasColumnType("text");

                    b.Property<string>("RecordId")
                        .HasColumnType("text");

                    b.Property<string>("TableName")
                        .HasColumnType("text");

                    b.Property<DateTime>("Timestamp")
                        .HasColumnType("timestamp with time zone");

                    b.Property<string>("TraceId")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<int?>("UserID")
                        .HasColumnType("integer");

                    b.HasKey("AuditID");

                    b.HasIndex("UserID");

                    b.ToTable("AuditLogs");
                });

            modelBuilder.Entity("EIMS.Domain.Entities.Category", b =>
                {
                    b.Property<int>("CategoryID")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("CategoryID"));

                    b.Property<string>("CategoryType")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)");

                    b.Property<string>("Code")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)");

                    b.Property<DateTime?>("CreatedDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<string>("Description")
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)");

                    b.Property<bool?>("IsActive")
                        .HasColumnType("boolean");

                    b.Property<bool?>("IsTaxable")
                        .HasColumnType("boolean");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)");

                    b.Property<decimal?>("VATRate")
                        .HasColumnType("decimal(5, 2)");

                    b.HasKey("CategoryID");

                    b.ToTable("Categories");

                    b.HasData(
                        new
                        {
                            CategoryID = 1,
                            CategoryType = "Goods",
                            Code = "HH",
                            CreatedDate = new DateTime(2026, 1, 25, 8, 39, 7, 972, DateTimeKind.Utc).AddTicks(3548),
                            Description = "Mặt hàng vật lý chịu thuế GTGT 10%",
                            IsActive = true,
                            IsTaxable = true,
                            Name = "Hàng hóa chịu thuế 10%",
                            VATRate = 10m
                        },
                        new
                        {
                            CategoryID = 2,
                            CategoryType = "Service",
                            Code = "DV",
                            CreatedDate = new DateTime(2026, 1, 25, 8, 39, 7, 972, DateTimeKind.Utc).AddTicks(3558),
                            Description = "Dịch vụ lưu trữ, cho thuê máy chủ",
                            IsActive = true,
                            IsTaxable = true,
                            Name = "Dịch vụ chịu thuế 8%",
                            VATRate = 8m
                        },
                        new
                        {
                            CategoryID = 3,
                            CategoryType = "Software",
                            Code = "SW",
                            CreatedDate = new DateTime(2026, 1, 25, 8, 39, 7, 972, DateTimeKind.Utc).AddTicks(3561),
                            Description = "Sản phẩm phần mềm và bản quyền",
                            IsActive = true,
                            IsTaxable = false,
                            Name = "Phần mềm không chịu thuế",
                            VATRate = 0m
                        });
                });

            modelBuilder.Entity("EIMS.Domain.Entities.Company", b =>
                {
                    b.Property<int>("CompanyID")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("CompanyID"));

                    b.Property<string>("AccountNumber")
                        .HasMaxLength(20)
                        .HasColumnType("character varying(20)");

                    b.Property<string>("Address")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)");

                    b.Property<string>("BankName")
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)");

                    b.Property<string>("CompanyName")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)");

                    b.Property<string>("ContactPhone")
                        .HasMaxLength(20)
                        .HasColumnType("character varying(20)");

                    b.Property<byte[]>("DigitalSignature")
                        .HasColumnType("bytea");

                    b.Property<string>("DigitalSignaturePassword")
                        .HasColumnType("text");

                    b.Property<string>("LogoUrl")
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)");

                    b.Property<string>("TaxCode")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("character varying(20)");

                    b.HasKey("CompanyID");

                    b.ToTable("Companies");

                    b.HasData(
                        new
                        {
                            CompanyID = 1,
                            AccountNumber = "1012148510",
                            Address = "26 Nguyễn Đình Khơi, Phường Tân Sơn Nhất, TP Hồ Chí Minh, Việt Nam",
                            BankName = "Vietcombank - CN Tan Son Nhat",
                            CompanyName = "CÔNG TY CỔ PHẦN GIẢI PHÁP TỔNG THỂ KỶ NGUYÊN SỐ",
                            ContactPhone = "02873000789",
                            TaxCode = "0311357436"
                        });
                });

            modelBuilder.Entity("EIMS.Domain.Entities.Customer", b =>
                {
                    b.Property<int>("CustomerID")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("CustomerID"));

                    b.Property<string>("Address")
                        .IsRequired()
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)");

                    b.Property<string>("ContactEmail")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)");

                    b.Property<string>("ContactPerson")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)");

                    b.Property<string>("ContactPhone")
                        .HasMaxLength(20)
                        .HasColumnType("character varying(20)");

                    b.Property<string>("CustomerName")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)");

                    b.Property<bool>("IsActive")
                        .HasColumnType("boolean");

                    b.Property<int?>("SaleID")
                        .HasColumnType("integer");

                    b.Property<string>("TaxCode")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("character varying(20)");

                    b.HasKey("CustomerID");

                    b.HasIndex("SaleID");

                    b.HasIndex("TaxCode")
                        .IsUnique();

                    b.ToTable("Customers");
                });

            modelBuilder.Entity("EIMS.Domain.Entities.EmailTemplate", b =>
                {
                    b.Property<int>("EmailTemplateID")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("EmailTemplateID"));

                    b.Property<string>("BodyContent")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<string>("Category")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("character varying(20)");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<bool>("IsActive")
                        .HasColumnType("boolean");

                    b.Property<bool>("IsSystemTemplate")
                        .HasColumnType("boolean");

                    b.Property<string>("LanguageCode")
                        .IsRequired()
                        .HasMaxLength(10)
                        .HasColumnType("character varying(10)");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)");

                    b.Property<string>("OriginalBodyContent")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<string>("Subject")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)");

                    b.Property<string>("TemplateCode")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.HasKey("EmailTemplateID");

                    b.ToTable("EmailTemplate");

                    b.HasData(
                        new
                        {
                            EmailTemplateID = 1,
                            BodyContent = "<!DOCTYPE html>\r\n<html>\r\n<head>\r\n    <style>\r\n        .email-container { font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; background-color: #f4f4f7; padding: 40px 20px; }\r\n        .email-content { max-width: 600px; margin: 0 auto; background-color: #ffffff; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); overflow: hidden; }\r\n        .email-header { background-color: #007BFF; padding: 30px; text-align: center; color: #ffffff; }\r\n        .email-header h1 { margin: 0; font-size: 24px; font-weight: bold; }\r\n        .email-body { padding: 30px; color: #333333; line-height: 1.6; }\r\n        .info-table { width: 100%; border-collapse: collapse; margin: 20px 0; }\r\n        .info-table td { padding: 12px 0; border-bottom: 1px solid #eeeeee; }\r\n        .info-label { font-weight: bold; color: #555555; width: 40%; }\r\n        .info-value { text-align: right; color: #333333; }\r\n        .highlight-amount { color: #D63384; font-weight: bold; font-size: 18px; }\r\n        .lookup-box { background-color: #f8f9fa; border: 2px dashed #007BFF; border-radius: 6px; padding: 15px; text-align: center; margin: 25px 0; }\r\n        .lookup-code { display: block; font-size: 24px; letter-spacing: 2px; font-weight: bold; color: #007BFF; margin-top: 5px; }\r\n        .email-footer { background-color: #f4f4f7; padding: 20px; text-align: center; font-size: 12px; color: #888888; }\r\n        .attachment-list { list-style: none; padding: 0; margin: 0; }\r\n        .attachment-list li { margin-bottom: 8px; }\r\n        .attachment-list a { color: #007BFF; text-decoration: none; font-weight: bold; }\r\n    </style>\r\n</head>\r\n<body>\r\n    <div class='email-container'>\r\n        <div class='email-content'>\r\n            <div class='email-header'>\r\n                <h1>Hóa Đơn Điện Tử</h1>\r\n            </div>\r\n\r\n            <div class='email-body'>\r\n                <p><strong>Xin chào {{CustomerName}},</strong></p>\r\n                <p>{{Message}}</p>\r\n                \r\n                <p>Hệ thống xin thông báo hóa đơn của quý khách đã được phát hành với thông tin chi tiết như sau:</p>\r\n\r\n                <table class='info-table'>\r\n                    <tr>\r\n                        <td class='info-label'>Số hóa đơn:</td>\r\n                        <td class='info-value'>#{{InvoiceNumber}}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td class='info-label'>Ký hiệu (Serial):</td>\r\n                        <td class='info-value'>{{Serial}}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td class='info-label'>Ngày phát hành:</td>\r\n                        <td class='info-value'>{{IssuedDate}}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td class='info-label'>Tổng thanh toán:</td>\r\n                        <td class='info-value highlight-amount'>{{TotalAmount}} VND</td>\r\n                    </tr>\r\n                </table>\r\n\r\n                <div class='lookup-box'>\r\n                    <span>Mã tra cứu hóa đơn</span>\r\n                    <span class='lookup-code'>{{LookupCode}}</span>\r\n                    <div style='margin-top:10px;'>\r\n                        <a href='{{LookupUrl}}' target='_blank' style='color:#007BFF; font-weight:bold; text-decoration:none;'>Tra cứu hóa đơn</a>\r\n                    </div>\r\n                </div>\r\n\r\n                <p>📂 <strong>Tài liệu đính kèm:</strong></p>\r\n                <ul class='attachment-list'>\r\n                    {{AttachmentList}}\r\n                </ul>\r\n\r\n                <p style='margin-top: 30px;'>Nếu quý khách có thắc mắc, vui lòng liên hệ bộ phận hỗ trợ.</p>\r\n                <p>Trân trọng,<br><strong>Đội ngũ EIMS</strong></p>\r\n            </div>\r\n\r\n            <div class='email-footer'>\r\n                <p>&copy; 2026 EIMS KNS Solutions. All rights reserved.</p>\r\n                <p>Email này được gửi tự động, vui lòng không trả lời.</p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</body>\r\n</html>",
                            Category = "invoice",
                            CreatedAt = new DateTime(2026, 1, 25, 8, 39, 8, 760, DateTimeKind.Utc).AddTicks(4776),
                            IsActive = true,
                            IsSystemTemplate = true,
                            LanguageCode = "vi",
                            Name = "Mẫu gửi hóa đơn mặc định",
                            OriginalBodyContent = "<!DOCTYPE html>\r\n<html>\r\n<head>\r\n    <style>\r\n        .email-container { font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; background-color: #f4f4f7; padding: 40px 20px; }\r\n        .email-content { max-width: 600px; margin: 0 auto; background-color: #ffffff; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); overflow: hidden; }\r\n        .email-header { background-color: #007BFF; padding: 30px; text-align: center; color: #ffffff; }\r\n        .email-header h1 { margin: 0; font-size: 24px; font-weight: bold; }\r\n        .email-body { padding: 30px; color: #333333; line-height: 1.6; }\r\n        .info-table { width: 100%; border-collapse: collapse; margin: 20px 0; }\r\n        .info-table td { padding: 12px 0; border-bottom: 1px solid #eeeeee; }\r\n        .info-label { font-weight: bold; color: #555555; width: 40%; }\r\n        .info-value { text-align: right; color: #333333; }\r\n        .highlight-amount { color: #D63384; font-weight: bold; font-size: 18px; }\r\n        .lookup-box { background-color: #f8f9fa; border: 2px dashed #007BFF; border-radius: 6px; padding: 15px; text-align: center; margin: 25px 0; }\r\n        .lookup-code { display: block; font-size: 24px; letter-spacing: 2px; font-weight: bold; color: #007BFF; margin-top: 5px; }\r\n        .email-footer { background-color: #f4f4f7; padding: 20px; text-align: center; font-size: 12px; color: #888888; }\r\n        .attachment-list { list-style: none; padding: 0; margin: 0; }\r\n        .attachment-list li { margin-bottom: 8px; }\r\n        .attachment-list a { color: #007BFF; text-decoration: none; font-weight: bold; }\r\n    </style>\r\n</head>\r\n<body>\r\n    <div class='email-container'>\r\n        <div class='email-content'>\r\n            <div class='email-header'>\r\n                <h1>Hóa Đơn Điện Tử</h1>\r\n            </div>\r\n\r\n            <div class='email-body'>\r\n                <p><strong>Xin chào {{CustomerName}},</strong></p>\r\n                <p>{{Message}}</p>\r\n                \r\n                <p>Hệ thống xin thông báo hóa đơn của quý khách đã được phát hành với thông tin chi tiết như sau:</p>\r\n\r\n                <table class='info-table'>\r\n                    <tr>\r\n                        <td class='info-label'>Số hóa đơn:</td>\r\n                        <td class='info-value'>#{{InvoiceNumber}}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td class='info-label'>Ký hiệu (Serial):</td>\r\n                        <td class='info-value'>{{Serial}}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td class='info-label'>Ngày phát hành:</td>\r\n                        <td class='info-value'>{{IssuedDate}}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td class='info-label'>Tổng thanh toán:</td>\r\n                        <td class='info-value highlight-amount'>{{TotalAmount}} VND</td>\r\n                    </tr>\r\n                </table>\r\n\r\n                <div class='lookup-box'>\r\n                    <span>Mã tra cứu hóa đơn</span>\r\n                    <span class='lookup-code'>{{LookupCode}}</span>\r\n                    <div style='margin-top:10px;'>\r\n                        <a href='{{LookupUrl}}' target='_blank' style='color:#007BFF; font-weight:bold; text-decoration:none;'>Tra cứu hóa đơn</a>\r\n                    </div>\r\n                </div>\r\n\r\n                <p>📂 <strong>Tài liệu đính kèm:</strong></p>\r\n                <ul class='attachment-list'>\r\n                    {{AttachmentList}}\r\n                </ul>\r\n\r\n                <p style='margin-top: 30px;'>Nếu quý khách có thắc mắc, vui lòng liên hệ bộ phận hỗ trợ.</p>\r\n                <p>Trân trọng,<br><strong>Đội ngũ EIMS</strong></p>\r\n            </div>\r\n\r\n            <div class='email-footer'>\r\n                <p>&copy; 2026 EIMS KNS Solutions. All rights reserved.</p>\r\n                <p>Email này được gửi tự động, vui lòng không trả lời.</p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</body>\r\n</html>",
                            Subject = "🔔 [Hóa đơn] #{{InvoiceNumber}} - Thông báo phát hành",
                            TemplateCode = "INVOICE_SEND"
                        },
                        new
                        {
                            EmailTemplateID = 2,
                            BodyContent = "<div style='font-family:Arial, sans-serif; padding: 20px; border: 1px solid #ddd; max-width: 600px; margin: 0 auto;'>\r\n                <h2 style='color:#007BFF;'>Hello {{CustomerName}},</h2>\r\n                <p style='background:#f0f8ff; padding:10px; border-left:4px solid #007BFF; font-style:italic;'>{{Message}}</p>\r\n                <p>We are pleased to inform you that your e-invoice has been issued:</p>\r\n                <table style='width:100%; margin:15px 0;'>\r\n                    <tr><td><strong>Invoice No:</strong></td><td>#{{InvoiceNumber}}</td></tr>\r\n                    <tr><td><strong>Total Amount:</strong></td><td style='color:#D63384; font-weight:bold;'>{{TotalAmount}} VND</td></tr>\r\n                </table>\r\n                <p><strong>Lookup code:</strong> {{LookupCode}}</p>\r\n                <p><a href='{{LookupUrl}}' target='_blank' style='color:#007BFF; font-weight:bold; text-decoration:none;'>View invoice</a></p>\r\n                <p>📂 <strong>Attachments:</strong></p>\r\n                <ul>{{AttachmentList}}</ul>\r\n                <p style='color:#777; font-size:12px;'>Best Regards,<br>EIMS Team</p>\r\n            </div>",
                            Category = "invoice",
                            CreatedAt = new DateTime(2026, 1, 25, 8, 39, 8, 760, DateTimeKind.Utc).AddTicks(4789),
                            IsActive = true,
                            IsSystemTemplate = true,
                            LanguageCode = "en",
                            Name = "Standard Invoice Email (English)",
                            OriginalBodyContent = "<div style='font-family:Arial, sans-serif; padding: 20px; border: 1px solid #ddd; max-width: 600px; margin: 0 auto;'>\r\n                <h2 style='color:#007BFF;'>Hello {{CustomerName}},</h2>\r\n                <p style='background:#f0f8ff; padding:10px; border-left:4px solid #007BFF; font-style:italic;'>{{Message}}</p>\r\n                <p>We are pleased to inform you that your e-invoice has been issued:</p>\r\n                <table style='width:100%; margin:15px 0;'>\r\n                    <tr><td><strong>Invoice No:</strong></td><td>#{{InvoiceNumber}}</td></tr>\r\n                    <tr><td><strong>Total Amount:</strong></td><td style='color:#D63384; font-weight:bold;'>{{TotalAmount}} VND</td></tr>\r\n                </table>\r\n                <p><strong>Lookup code:</strong> {{LookupCode}}</p>\r\n                <p><a href='{{LookupUrl}}' target='_blank' style='color:#007BFF; font-weight:bold; text-decoration:none;'>View invoice</a></p>\r\n                <p>📂 <strong>Attachments:</strong></p>\r\n                <ul>{{AttachmentList}}</ul>\r\n                <p style='color:#777; font-size:12px;'>Best Regards,<br>EIMS Team</p>\r\n            </div>",
                            Subject = "🧾 [Invoice] #{{InvoiceNumber}} - Issued Notification",
                            TemplateCode = "INVOICE_SEND"
                        },
                        new
                        {
                            EmailTemplateID = 3,
                            BodyContent = "<div style='font-family:Arial, sans-serif; border: 2px solid #dc3545; padding: 20px; max-width: 600px; margin: 0 auto;'>\r\n                <h2 style='color:#dc3545;'>⚠️ Thông báo Nhắc thanh toán</h2>\r\n                <p>Kính gửi {{CustomerName}},</p>\r\n                <div style='background:#fff3cd; color:#856404; padding:10px; margin:10px 0;'>\r\n                    <strong>Lời nhắn:</strong> {{Message}}\r\n                </div>\r\n                <p>Hóa đơn <strong>#{{InvoiceNumber}}</strong> ({{TotalAmount}} VND) hiện chưa được thanh toán.</p>\r\n                <ul>{{AttachmentList}}</ul>\r\n            </div>",
                            Category = "payment",
                            CreatedAt = new DateTime(2026, 1, 25, 8, 39, 8, 760, DateTimeKind.Utc).AddTicks(4794),
                            IsActive = true,
                            IsSystemTemplate = true,
                            LanguageCode = "vi",
                            Name = "Mẫu nhắc nợ khẩn cấp",
                            OriginalBodyContent = "<div style='font-family:Arial, sans-serif; border: 2px solid #dc3545; padding: 20px; max-width: 600px; margin: 0 auto;'>\r\n                <h2 style='color:#dc3545;'>⚠️ Thông báo Nhắc thanh toán</h2>\r\n                <p>Kính gửi {{CustomerName}},</p>\r\n                <div style='background:#fff3cd; color:#856404; padding:10px; margin:10px 0;'>\r\n                    <strong>Lời nhắn:</strong> {{Message}}\r\n                </div>\r\n                <p>Hóa đơn <strong>#{{InvoiceNumber}}</strong> ({{TotalAmount}} VND) hiện chưa được thanh toán.</p>\r\n                <ul>{{AttachmentList}}</ul>\r\n            </div>",
                            Subject = "🔥 [NHẮC THANH TOÁN] Hóa đơn #{{InvoiceNumber}} quá hạn",
                            TemplateCode = "PAYMENT_REMINDER"
                        },
                        new
                        {
                            EmailTemplateID = 4,
                            BodyContent = "<!DOCTYPE html>\r\n<html>\r\n<head>\r\n    <style>\r\n        .email-container { font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; background-color: #f4f4f7; padding: 40px 20px; }\r\n        .email-content { max-width: 600px; margin: 0 auto; background-color: #ffffff; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); overflow: hidden; }\r\n        .email-header { background-color: #007BFF; padding: 30px; text-align: center; color: #ffffff; }\r\n        .email-header h1 { margin: 0; font-size: 24px; font-weight: bold; }\r\n        .email-body { padding: 30px; color: #333333; line-height: 1.6; }\r\n        .info-table { width: 100%; border-collapse: collapse; margin: 20px 0; }\r\n        .info-table td { padding: 12px 0; border-bottom: 1px solid #eeeeee; }\r\n        .info-label { font-weight: bold; color: #555555; width: 40%; }\r\n        .info-value { text-align: right; color: #333333; }\r\n        .highlight-amount { color: #D63384; font-weight: bold; font-size: 18px; }\r\n        .lookup-box { background-color: #f8f9fa; border: 2px dashed #007BFF; border-radius: 6px; padding: 15px; text-align: center; margin: 25px 0; }\r\n        .lookup-code { display: block; font-size: 24px; letter-spacing: 2px; font-weight: bold; color: #007BFF; margin-top: 5px; }\r\n        .email-footer { background-color: #f4f4f7; padding: 20px; text-align: center; font-size: 12px; color: #888888; }\r\n        .attachment-list { list-style: none; padding: 0; margin: 0; }\r\n        .attachment-list li { margin-bottom: 8px; }\r\n        .attachment-list a { color: #007BFF; text-decoration: none; font-weight: bold; }\r\n    </style>\r\n</head>\r\n<body>\r\n    <div class='email-container'>\r\n        <div class='email-content'>\r\n            <div class='email-header'>\r\n                <h1>Hóa Đơn Điện Tử</h1>\r\n            </div>\r\n\r\n            <div class='email-body'>\r\n                <p><strong>Xin chào {{CustomerName}},</strong></p>\r\n                <p>{{Message}}</p>\r\n                \r\n                <p>Hệ thống xin thông báo hóa đơn của quý khách đã được phát hành với thông tin chi tiết như sau:</p>\r\n\r\n                <table class='info-table'>\r\n                    <tr>\r\n                        <td class='info-label'>Số hóa đơn:</td>\r\n                        <td class='info-value'>#{{InvoiceNumber}}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td class='info-label'>Ký hiệu (Serial):</td>\r\n                        <td class='info-value'>{{Serial}}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td class='info-label'>Ngày phát hành:</td>\r\n                        <td class='info-value'>{{IssuedDate}}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td class='info-label'>Tổng thanh toán:</td>\r\n                        <td class='info-value highlight-amount'>{{TotalAmount}} VND</td>\r\n                    </tr>\r\n                </table>\r\n\r\n                <div class='lookup-box'>\r\n                    <span>Mã tra cứu hóa đơn</span>\r\n                    <span class='lookup-code'>{{LookupCode}}</span>\r\n                    <div style='margin-top:10px;'>\r\n                        <a href='{{LookupUrl}}' target='_blank' style='color:#007BFF; font-weight:bold; text-decoration:none;'>Tra cứu hóa đơn</a>\r\n                    </div>\r\n                </div>\r\n\r\n                <p>📂 <strong>Tài liệu đính kèm:</strong></p>\r\n                <ul class='attachment-list'>\r\n                    {{AttachmentList}}\r\n                </ul>\r\n\r\n                <p style='margin-top: 30px;'>Nếu quý khách có thắc mắc, vui lòng liên hệ bộ phận hỗ trợ.</p>\r\n                <p>Trân trọng,<br><strong>Đội ngũ EIMS</strong></p>\r\n            </div>\r\n\r\n            <div class='email-footer'>\r\n                <p>&copy; 2026 EIMS KNS Solutions. All rights reserved.</p>\r\n                <p>Email này được gửi tự động, vui lòng không trả lời.</p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</body>\r\n</html>",
                            Category = "invoice",
                            CreatedAt = new DateTime(2026, 1, 25, 8, 39, 8, 760, DateTimeKind.Utc).AddTicks(4799),
                            IsActive = true,
                            IsSystemTemplate = true,
                            LanguageCode = "vi",
                            Name = "Mẫu gửi hóa đơn (Giao diện bảng chi tiết)",
                            OriginalBodyContent = "<!DOCTYPE html>\r\n<html>\r\n<head>\r\n    <style>\r\n        .email-container { font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; background-color: #f4f4f7; padding: 40px 20px; }\r\n        .email-content { max-width: 600px; margin: 0 auto; background-color: #ffffff; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); overflow: hidden; }\r\n        .email-header { background-color: #007BFF; padding: 30px; text-align: center; color: #ffffff; }\r\n        .email-header h1 { margin: 0; font-size: 24px; font-weight: bold; }\r\n        .email-body { padding: 30px; color: #333333; line-height: 1.6; }\r\n        .info-table { width: 100%; border-collapse: collapse; margin: 20px 0; }\r\n        .info-table td { padding: 12px 0; border-bottom: 1px solid #eeeeee; }\r\n        .info-label { font-weight: bold; color: #555555; width: 40%; }\r\n        .info-value { text-align: right; color: #333333; }\r\n        .highlight-amount { color: #D63384; font-weight: bold; font-size: 18px; }\r\n        .lookup-box { background-color: #f8f9fa; border: 2px dashed #007BFF; border-radius: 6px; padding: 15px; text-align: center; margin: 25px 0; }\r\n        .lookup-code { display: block; font-size: 24px; letter-spacing: 2px; font-weight: bold; color: #007BFF; margin-top: 5px; }\r\n        .email-footer { background-color: #f4f4f7; padding: 20px; text-align: center; font-size: 12px; color: #888888; }\r\n        .attachment-list { list-style: none; padding: 0; margin: 0; }\r\n        .attachment-list li { margin-bottom: 8px; }\r\n        .attachment-list a { color: #007BFF; text-decoration: none; font-weight: bold; }\r\n    </style>\r\n</head>\r\n<body>\r\n    <div class='email-container'>\r\n        <div class='email-content'>\r\n            <div class='email-header'>\r\n                <h1>Hóa Đơn Điện Tử</h1>\r\n            </div>\r\n\r\n            <div class='email-body'>\r\n                <p><strong>Xin chào {{CustomerName}},</strong></p>\r\n                <p>{{Message}}</p>\r\n                \r\n                <p>Hệ thống xin thông báo hóa đơn của quý khách đã được phát hành với thông tin chi tiết như sau:</p>\r\n\r\n                <table class='info-table'>\r\n                    <tr>\r\n                        <td class='info-label'>Số hóa đơn:</td>\r\n                        <td class='info-value'>#{{InvoiceNumber}}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td class='info-label'>Ký hiệu (Serial):</td>\r\n                        <td class='info-value'>{{Serial}}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td class='info-label'>Ngày phát hành:</td>\r\n                        <td class='info-value'>{{IssuedDate}}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td class='info-label'>Tổng thanh toán:</td>\r\n                        <td class='info-value highlight-amount'>{{TotalAmount}} VND</td>\r\n                    </tr>\r\n                </table>\r\n\r\n                <div class='lookup-box'>\r\n                    <span>Mã tra cứu hóa đơn</span>\r\n                    <span class='lookup-code'>{{LookupCode}}</span>\r\n                    <div style='margin-top:10px;'>\r\n                        <a href='{{LookupUrl}}' target='_blank' style='color:#007BFF; font-weight:bold; text-decoration:none;'>Tra cứu hóa đơn</a>\r\n                    </div>\r\n                </div>\r\n\r\n                <p>📂 <strong>Tài liệu đính kèm:</strong></p>\r\n                <ul class='attachment-list'>\r\n                    {{AttachmentList}}\r\n                </ul>\r\n\r\n                <p style='margin-top: 30px;'>Nếu quý khách có thắc mắc, vui lòng liên hệ bộ phận hỗ trợ.</p>\r\n                <p>Trân trọng,<br><strong>Đội ngũ EIMS</strong></p>\r\n            </div>\r\n\r\n            <div class='email-footer'>\r\n                <p>&copy; 2026 EIMS KNS Solutions. All rights reserved.</p>\r\n                <p>Email này được gửi tự động, vui lòng không trả lời.</p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</body>\r\n</html>",
                            Subject = "🔔 [Hóa đơn] #{{InvoiceNumber}} - Thông báo phát hành",
                            TemplateCode = "INVOICE_SEND_2"
                        },
                        new
                        {
                            EmailTemplateID = 7,
                            BodyContent = "<div style='font-family:Arial, sans-serif; padding: 20px; border: 1px solid #ddd; max-width: 600px; margin: 0 auto;'>\r\n            <h2 style='color:#007BFF;'>Kính gửi {{CustomerName}},</h2>\r\n            <p>Do có sự sai sót về thông tin trên hóa đơn số <strong>#{{InvoiceNumber}}</strong> (Ngày lập: {{IssuedDate}}), chúng tôi đã lập biên bản thu hồi/thay thế hóa đơn này.</p>\r\n            \r\n            <div style='background:#fff3cd; color:#856404; padding:10px; margin:15px 0;'>\r\n                <strong>Lý do sai sót:</strong> {{Reason}}\r\n            </div>\r\n\r\n            <p>Kính đề nghị Quý khách xem xét, <strong>ký xác nhận</strong> vào biên bản đính kèm và phản hồi lại email này để chúng tôi tiến hành xuất hóa đơn thay thế mới.</p>\r\n            \r\n            <p>📂 <strong>Tài liệu đính kèm:</strong></p>\r\n            <ul>{{AttachmentList}}</ul>\r\n            \r\n            <p style='color:#777; font-size:12px;'>Trân trọng,<br><strong>Đội ngũ Kế toán EIMS</strong></p>\r\n        </div>",
                            Category = "minutes",
                            CreatedAt = new DateTime(2026, 1, 25, 8, 39, 8, 760, DateTimeKind.Utc).AddTicks(4804),
                            IsActive = true,
                            IsSystemTemplate = true,
                            LanguageCode = "vi",
                            Name = "Mẫu biên bản thu hồi/thay thế",
                            OriginalBodyContent = "<div style='font-family:Arial, sans-serif; padding: 20px; border: 1px solid #ddd; max-width: 600px; margin: 0 auto;'>\r\n            <h2 style='color:#007BFF;'>Kính gửi {{CustomerName}},</h2>\r\n            <p>Do có sự sai sót về thông tin trên hóa đơn số <strong>#{{InvoiceNumber}}</strong> (Ngày lập: {{IssuedDate}}), chúng tôi đã lập biên bản thu hồi/thay thế hóa đơn này.</p>\r\n            \r\n            <div style='background:#fff3cd; color:#856404; padding:10px; margin:15px 0;'>\r\n                <strong>Lý do sai sót:</strong> {{Reason}}\r\n            </div>\r\n\r\n            <p>Kính đề nghị Quý khách xem xét, <strong>ký xác nhận</strong> vào biên bản đính kèm và phản hồi lại email này để chúng tôi tiến hành xuất hóa đơn thay thế mới.</p>\r\n            \r\n            <p>📂 <strong>Tài liệu đính kèm:</strong></p>\r\n            <ul>{{AttachmentList}}</ul>\r\n            \r\n            <p style='color:#777; font-size:12px;'>Trân trọng,<br><strong>Đội ngũ Kế toán EIMS</strong></p>\r\n        </div>",
                            Subject = "📝 [XÁC NHẬN] Biên bản thu hồi hóa đơn #{{InvoiceNumber}}",
                            TemplateCode = "MINUTES_REPLACE"
                        },
                        new
                        {
                            EmailTemplateID = 8,
                            BodyContent = "<div style='font-family:Arial, sans-serif; padding: 20px; border: 1px solid #ddd; max-width: 600px; margin: 0 auto;'>\r\n            <h2 style='color:#007BFF;'>Kính gửi {{CustomerName}},</h2>\r\n            <p>Chúng tôi gửi đến Quý khách biên bản thỏa thuận điều chỉnh cho hóa đơn số <strong>#{{InvoiceNumber}}</strong>.</p>\r\n            \r\n            <div style='background:#e2e3e5; color:#383d41; padding:10px; margin:15px 0;'>\r\n                <strong>Nội dung điều chỉnh:</strong> {{Reason}}\r\n            </div>\r\n\r\n            <p>Quý khách vui lòng kiểm tra, <strong>ký số (hoặc ký tươi)</strong> vào biên bản đính kèm và gửi lại cho chúng tôi.</p>\r\n            \r\n            <ul>{{AttachmentList}}</ul>\r\n            <p style='color:#777; font-size:12px;'>Trân trọng,<br><strong>Đội ngũ Kế toán EIMS</strong></p>\r\n        </div>",
                            Category = "minutes",
                            CreatedAt = new DateTime(2026, 1, 25, 8, 39, 8, 760, DateTimeKind.Utc).AddTicks(4808),
                            IsActive = true,
                            IsSystemTemplate = true,
                            LanguageCode = "vi",
                            Name = "Mẫu biên bản điều chỉnh",
                            OriginalBodyContent = "<div style='font-family:Arial, sans-serif; padding: 20px; border: 1px solid #ddd; max-width: 600px; margin: 0 auto;'>\r\n            <h2 style='color:#007BFF;'>Kính gửi {{CustomerName}},</h2>\r\n            <p>Chúng tôi gửi đến Quý khách biên bản thỏa thuận điều chỉnh cho hóa đơn số <strong>#{{InvoiceNumber}}</strong>.</p>\r\n            \r\n            <div style='background:#e2e3e5; color:#383d41; padding:10px; margin:15px 0;'>\r\n                <strong>Nội dung điều chỉnh:</strong> {{Reason}}\r\n            </div>\r\n\r\n            <p>Quý khách vui lòng kiểm tra, <strong>ký số (hoặc ký tươi)</strong> vào biên bản đính kèm và gửi lại cho chúng tôi.</p>\r\n            \r\n            <ul>{{AttachmentList}}</ul>\r\n            <p style='color:#777; font-size:12px;'>Trân trọng,<br><strong>Đội ngũ Kế toán EIMS</strong></p>\r\n        </div>",
                            Subject = "📝 [XÁC NHẬN] Biên bản điều chỉnh hóa đơn #{{InvoiceNumber}}",
                            TemplateCode = "MINUTES_ADJUST"
                        },
                        new
                        {
                            EmailTemplateID = 9,
                            BodyContent = "<!DOCTYPE html>\r\n\r\n<html>\r\n\r\n<head>\r\n\r\n    <style>\r\n\r\n        .email-container { font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; background-color: #f4f4f7; padding: 40px 20px; }\r\n\r\n        .email-content { max-width: 600px; margin: 0 auto; background-color: #ffffff; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); overflow: hidden; }\r\n\r\n        .email-header { background-color: #28a745; padding: 30px; text-align: center; color: #ffffff; } /* Màu xanh lá cho Statement khác với Invoice */\r\n\r\n        .email-header h1 { margin: 0; font-size: 24px; font-weight: bold; }\r\n\r\n        .email-body { padding: 30px; color: #333333; line-height: 1.6; }\r\n\r\n        .info-table { width: 100%; border-collapse: collapse; margin: 20px 0; }\r\n\r\n        .info-table td { padding: 12px 0; border-bottom: 1px solid #eeeeee; }\r\n\r\n        .info-label { font-weight: bold; color: #555555; width: 50%; }\r\n\r\n        .info-value { text-align: right; color: #333333; }\r\n\r\n        .highlight-amount { color: #D63384; font-weight: bold; font-size: 20px; }\r\n\r\n        .email-footer { background-color: #f4f4f7; padding: 20px; text-align: center; font-size: 12px; color: #888888; }\r\n\r\n        .attachment-list { list-style: none; padding: 0; margin: 0; }\r\n\r\n        .attachment-list li { margin-bottom: 8px; }\r\n\r\n        .attachment-list a { color: #007BFF; text-decoration: none; font-weight: bold; }\r\n\r\n        .note-text { font-size: 13px; font-style: italic; color: #666; margin-top: 10px; }\r\n\r\n    </style>\r\n\r\n</head>\r\n\r\n<body>\r\n\r\n    <div class='email-container'>\r\n\r\n        <div class='email-content'>\r\n\r\n            <div class='email-header'>\r\n\r\n                <h1>Thông Báo Cước Dịch Vụ</h1>\r\n\r\n            </div>\r\n\r\n\r\n\r\n            <div class='email-body'>\r\n\r\n                <p><strong>Kính gửi Quý khách hàng {{CustomerName}},</strong></p>\r\n\r\n                \r\n\r\n                <p><strong>{{CompanyName}}</strong> trân trọng thông báo tổng cước dịch vụ sử dụng trong tháng <strong>{{Month}}/{{Year}}</strong> và nợ tồn đọng (nếu có) như sau:</p>\r\n\r\n\r\n\r\n                <table class='info-table'>\r\n\r\n                    <tr>\r\n\r\n                        <td class='info-label'>Kỳ cước:</td>\r\n\r\n                        <td class='info-value'>Tháng {{Month}}/{{Year}}</td>\r\n\r\n                    </tr>\r\n\r\n                    <tr>\r\n\r\n                        <td class='info-label'>Hạn thanh toán:</td>\r\n\r\n                        <td class='info-value'><strong>{{DueDate}}</strong></td>\r\n\r\n                    </tr>\r\n\r\n                    <tr>\r\n\r\n                        <td class='info-label'>TỔNG TIỀN PHẢI THANH TOÁN:</td>\r\n\r\n                        <td class='info-value highlight-amount'>{{TotalAmount}} VNĐ</td>\r\n\r\n                    </tr>\r\n\r\n                </table>\r\n\r\n\r\n\r\n                <p>Quý khách vui lòng kiểm tra file <strong>Bảng kê chi tiết</strong> (đính kèm) và sắp xếp thanh toán đúng hạn để dịch vụ không bị gián đoạn.</p>\r\n\r\n                \r\n\r\n                <p class='note-text'>(Thông tin tài khoản ngân hàng xem chi tiết trong file đính kèm).</p>\r\n\r\n\r\n\r\n                <p>📂 <strong>Tài liệu đính kèm:</strong></p>\r\n\r\n                <ul class='attachment-list'>\r\n\r\n                     {{AttachmentList}}\r\n\r\n                </ul>\r\n\r\n\r\n\r\n                <p style='margin-top: 30px;'>Cảm ơn Quý khách đã tin tưởng và sử dụng dịch vụ.</p>\r\n\r\n                <p>Trân trọng,<br><strong>Phòng Kế toán {{CompanyName}}</strong></p>\r\n\r\n            </div>\r\n\r\n\r\n\r\n            <div class='email-footer'>\r\n\r\n                <p>&copy; {{Year}} {{CompanyName}}. All rights reserved.</p>\r\n\r\n                <p>Email này được gửi tự động, vui lòng không trả lời.</p>\r\n\r\n            </div>\r\n\r\n        </div>\r\n\r\n    </div>\r\n\r\n</body>\r\n\r\n</html>",
                            Category = "payment",
                            CreatedAt = new DateTime(2026, 1, 25, 8, 39, 8, 760, DateTimeKind.Utc).AddTicks(4816),
                            IsActive = true,
                            IsSystemTemplate = false,
                            LanguageCode = "vi",
                            Name = "Mẫu gửi bảng kê cước (Tiếng Việt)",
                            OriginalBodyContent = "<!DOCTYPE html>\r\n\r\n<html>\r\n\r\n<head>\r\n\r\n    <style>\r\n\r\n        .email-container { font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; background-color: #f4f4f7; padding: 40px 20px; }\r\n\r\n        .email-content { max-width: 600px; margin: 0 auto; background-color: #ffffff; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); overflow: hidden; }\r\n\r\n        .email-header { background-color: #28a745; padding: 30px; text-align: center; color: #ffffff; } /* Màu xanh lá cho Statement khác với Invoice */\r\n\r\n        .email-header h1 { margin: 0; font-size: 24px; font-weight: bold; }\r\n\r\n        .email-body { padding: 30px; color: #333333; line-height: 1.6; }\r\n\r\n        .info-table { width: 100%; border-collapse: collapse; margin: 20px 0; }\r\n\r\n        .info-table td { padding: 12px 0; border-bottom: 1px solid #eeeeee; }\r\n\r\n        .info-label { font-weight: bold; color: #555555; width: 50%; }\r\n\r\n        .info-value { text-align: right; color: #333333; }\r\n\r\n        .highlight-amount { color: #D63384; font-weight: bold; font-size: 20px; }\r\n\r\n        .email-footer { background-color: #f4f4f7; padding: 20px; text-align: center; font-size: 12px; color: #888888; }\r\n\r\n        .attachment-list { list-style: none; padding: 0; margin: 0; }\r\n\r\n        .attachment-list li { margin-bottom: 8px; }\r\n\r\n        .attachment-list a { color: #007BFF; text-decoration: none; font-weight: bold; }\r\n\r\n        .note-text { font-size: 13px; font-style: italic; color: #666; margin-top: 10px; }\r\n\r\n    </style>\r\n\r\n</head>\r\n\r\n<body>\r\n\r\n    <div class='email-container'>\r\n\r\n        <div class='email-content'>\r\n\r\n            <div class='email-header'>\r\n\r\n                <h1>Thông Báo Cước Dịch Vụ</h1>\r\n\r\n            </div>\r\n\r\n\r\n\r\n            <div class='email-body'>\r\n\r\n                <p><strong>Kính gửi Quý khách hàng {{CustomerName}},</strong></p>\r\n\r\n                \r\n\r\n                <p><strong>{{CompanyName}}</strong> trân trọng thông báo tổng cước dịch vụ sử dụng trong tháng <strong>{{Month}}/{{Year}}</strong> và nợ tồn đọng (nếu có) như sau:</p>\r\n\r\n\r\n\r\n                <table class='info-table'>\r\n\r\n                    <tr>\r\n\r\n                        <td class='info-label'>Kỳ cước:</td>\r\n\r\n                        <td class='info-value'>Tháng {{Month}}/{{Year}}</td>\r\n\r\n                    </tr>\r\n\r\n                    <tr>\r\n\r\n                        <td class='info-label'>Hạn thanh toán:</td>\r\n\r\n                        <td class='info-value'><strong>{{DueDate}}</strong></td>\r\n\r\n                    </tr>\r\n\r\n                    <tr>\r\n\r\n                        <td class='info-label'>TỔNG TIỀN PHẢI THANH TOÁN:</td>\r\n\r\n                        <td class='info-value highlight-amount'>{{TotalAmount}} VNĐ</td>\r\n\r\n                    </tr>\r\n\r\n                </table>\r\n\r\n\r\n\r\n                <p>Quý khách vui lòng kiểm tra file <strong>Bảng kê chi tiết</strong> (đính kèm) và sắp xếp thanh toán đúng hạn để dịch vụ không bị gián đoạn.</p>\r\n\r\n                \r\n\r\n                <p class='note-text'>(Thông tin tài khoản ngân hàng xem chi tiết trong file đính kèm).</p>\r\n\r\n\r\n\r\n                <p>📂 <strong>Tài liệu đính kèm:</strong></p>\r\n\r\n                <ul class='attachment-list'>\r\n\r\n                     {{AttachmentList}}\r\n\r\n                </ul>\r\n\r\n\r\n\r\n                <p style='margin-top: 30px;'>Cảm ơn Quý khách đã tin tưởng và sử dụng dịch vụ.</p>\r\n\r\n                <p>Trân trọng,<br><strong>Phòng Kế toán {{CompanyName}}</strong></p>\r\n\r\n            </div>\r\n\r\n\r\n\r\n            <div class='email-footer'>\r\n\r\n                <p>&copy; {{Year}} {{CompanyName}}. All rights reserved.</p>\r\n\r\n                <p>Email này được gửi tự động, vui lòng không trả lời.</p>\r\n\r\n            </div>\r\n\r\n        </div>\r\n\r\n    </div>\r\n\r\n</body>\r\n\r\n</html>",
                            Subject = "TB Cước Dịch vụ Tháng {{Month}}/{{Year}} - {{CustomerName}}",
                            TemplateCode = "STATEMENT_SEND"
                        });
                });

            modelBuilder.Entity("EIMS.Domain.Entities.Invoice", b =>
                {
                    b.Property<int>("InvoiceID")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("InvoiceID"));

                    b.Property<string>("AdjustmentReason")
                        .HasColumnType("text");

                    b.Property<int?>("CompanyId")
                        .HasColumnType("integer");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<int?>("CreatedBy")
                        .HasColumnType("integer");

                    b.Property<int>("CustomerID")
                        .HasColumnType("integer");

                    b.Property<string>("DigitalSignature")
                        .HasColumnType("text");

                    b.Property<string>("FilePath")
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)");

                    b.Property<string>("InvoiceCustomerAddress")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<string>("InvoiceCustomerName")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<string>("InvoiceCustomerTaxCode")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<int?>("InvoiceCustomerType")
                        .HasColumnType("integer");

                    b.Property<long?>("InvoiceNumber")
                        .HasColumnType("bigint");

                    b.Property<int>("InvoiceStatusID")
                        .HasColumnType("integer");

                    b.Property<string>("InvoiceSymbol")
                        .HasColumnType("text");

                    b.Property<int>("InvoiceType")
                        .HasColumnType("integer");

                    b.Property<DateTime?>("IssuedDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<int?>("IssuerID")
                        .HasColumnType("integer");

                    b.Property<DateTime?>("LastModified")
                        .HasColumnType("timestamp with time zone");

                    b.Property<string>("LookupCode")
                        .HasColumnType("text");

                    b.Property<int>("MinRows")
                        .HasColumnType("integer");

                    b.Property<string>("MinuteCode")
                        .HasColumnType("text");

                    b.Property<string>("Notes")
                        .HasMaxLength(2000)
                        .HasColumnType("character varying(2000)");

                    b.Property<int?>("OriginalInvoiceID")
                        .HasColumnType("integer");

                    b.Property<decimal>("PaidAmount")
                        .HasColumnType("decimal(18, 2)");

                    b.Property<DateTime?>("PaymentDueDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<string>("PaymentMethod")
                        .HasColumnType("text");

                    b.Property<int>("PaymentStatusID")
                        .HasColumnType("integer");

                    b.Property<string>("QRCodeData")
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)");

                    b.Property<string>("ReferenceNote")
                        .HasColumnType("text");

                    b.Property<decimal>("RemainingAmount")
                        .HasColumnType("decimal(18, 2)");

                    b.Property<int?>("RequestID")
                        .HasColumnType("integer");

                    b.Property<int?>("SalesID")
                        .HasColumnType("integer");

                    b.Property<DateTime?>("SignDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<decimal>("SubtotalAmount")
                        .HasColumnType("decimal(18, 2)");

                    b.Property<string>("TaxAuthorityCode")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)");

                    b.Property<int>("TemplateID")
                        .HasColumnType("integer");

                    b.Property<decimal>("TotalAmount")
                        .HasColumnType("decimal(18, 2)");

                    b.Property<string>("TotalAmountInWords")
                        .IsRequired()
                        .HasMaxLength(1000)
                        .HasColumnType("character varying(1000)");

                    b.Property<decimal>("VATAmount")
                        .HasColumnType("decimal(18, 2)");

                    b.Property<decimal>("VATRate")
                        .HasColumnType("decimal(5, 2)");

                    b.Property<string>("XMLPath")
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)");

                    b.HasKey("InvoiceID");

                    b.HasIndex("CompanyId");

                    b.HasIndex("CreatedBy");

                    b.HasIndex("CustomerID");

                    b.HasIndex("InvoiceStatusID");

                    b.HasIndex("IssuerID");

                    b.HasIndex("OriginalInvoiceID");

                    b.HasIndex("PaymentStatusID");

                    b.HasIndex("SalesID");

                    b.HasIndex("TemplateID");

                    b.ToTable("Invoices");
                });

            modelBuilder.Entity("EIMS.Domain.Entities.InvoiceErrorDetail", b =>
                {
                    b.Property<int>("DetailID")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("DetailID"));

                    b.Property<int>("ErrorType")
                        .HasColumnType("integer");

                    b.Property<DateTime>("InvoiceDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<int?>("InvoiceID")
                        .HasColumnType("integer");

                    b.Property<string>("InvoiceNumber")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<string>("InvoiceSerial")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<string>("InvoiceTaxCode")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<int>("NotificationID")
                        .HasColumnType("integer");

                    b.Property<string>("Reason")
                        .IsRequired()
                        .HasColumnType("text");

                    b.HasKey("DetailID");

                    b.HasIndex("InvoiceID");

                    b.HasIndex("NotificationID");

                    b.ToTable("InvoiceErrorDetails");
                });

            modelBuilder.Entity("EIMS.Domain.Entities.InvoiceErrorNotification", b =>
                {
                    b.Property<int>("InvoiceErrorNotificationID")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasColumnName("InvoiceErrorNotificationID");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("InvoiceErrorNotificationID"));

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<int>("CreatedBy")
                        .HasColumnType("integer");

                    b.Property<string>("MTDiep")
                        .HasColumnType("text");

                    b.Property<string>("NotificationNumber")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<int>("NotificationTypeCode")
                        .HasColumnType("integer");

                    b.Property<string>("Place")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<DateTime>("ReportDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<string>("SignedData")
                        .HasColumnType("text");

                    b.Property<int>("Status")
                        .HasColumnType("integer");

                    b.Property<string>("TaxAuthorityCode")
                        .HasColumnType("text");

                    b.Property<string>("TaxAuthorityName")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<string>("TaxCode")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<string>("TaxResponsePath")
                        .HasColumnType("text");

                    b.Property<string>("TaxpayerName")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<string>("XMLPath")
                        .HasColumnType("text");

                    b.HasKey("InvoiceErrorNotificationID");

                    b.ToTable("InvoiceErrorNotifications");
                });

            modelBuilder.Entity("EIMS.Domain.Entities.InvoiceHistory", b =>
                {
                    b.Property<int>("HistoryID")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("HistoryID"));

                    b.Property<string>("ActionType")
                        .HasColumnType("text");

                    b.Property<DateTime>("Date")
                        .HasColumnType("timestamp with time zone");

                    b.Property<int>("InvoiceID")
                        .HasColumnType("integer");

                    b.Property<int?>("PerformedBy")
                        .HasColumnType("integer");

                    b.Property<int?>("PerformerUserID")
                        .HasColumnType("integer");

                    b.Property<int?>("ReferenceInvoiceID")
                        .HasColumnType("integer");

                    b.HasKey("HistoryID");

                    b.HasIndex("InvoiceID");

                    b.HasIndex("PerformerUserID");

                    b.HasIndex("ReferenceInvoiceID");

                    b.ToTable("InvoiceHistories");
                });

            modelBuilder.Entity("EIMS.Domain.Entities.InvoiceItem", b =>
                {
                    b.Property<int>("InvoiceItemID")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("InvoiceItemID"));

                    b.Property<decimal>("Amount")
                        .HasColumnType("decimal(18, 2)");

                    b.Property<int>("InvoiceID")
                        .HasColumnType("integer");

                    b.Property<bool>("IsAdjustmentItem")
                        .HasColumnType("boolean");

                    b.Property<int?>("OriginalInvoiceItemID")
                        .HasColumnType("integer");

                    b.Property<int>("ProductID")
                        .HasColumnType("integer");

                    b.Property<double>("Quantity")
                        .HasColumnType("decimal(18, 2)");

                    b.Property<decimal>("UnitPrice")
                        .HasColumnType("decimal(18, 2)");

                    b.Property<decimal>("VATAmount")
                        .HasColumnType("decimal(18, 2)");

                    b.HasKey("InvoiceItemID");

                    b.HasIndex("InvoiceID");

                    b.HasIndex("OriginalInvoiceItemID");

                    b.HasIndex("ProductID");

                    b.ToTable("InvoiceItems");
                });

            modelBuilder.Entity("EIMS.Domain.Entities.InvoiceLookupLog", b =>
                {
                    b.Property<int>("LogID")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("LogID"));

                    b.Property<int?>("FoundInvoiceID")
                        .HasColumnType("integer");

                    b.Property<string>("IPAddress")
                        .HasColumnType("text");

                    b.Property<bool>("IsSuccess")
                        .HasColumnType("boolean");

                    b.Property<string>("LookupCode")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<DateTime>("Time")
                        .HasColumnType("timestamp with time zone");

                    b.Property<string>("UserAgent")
                        .HasColumnType("text");

                    b.HasKey("LogID");

                    b.ToTable("InvoiceLookupLogs");
                });

            modelBuilder.Entity("EIMS.Domain.Entities.InvoicePayment", b =>
                {
                    b.Property<int>("PaymentID")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("PaymentID"));

                    b.Property<decimal>("AmountPaid")
                        .HasColumnType("decimal(18, 2)");

                    b.Property<int?>("CreatedBy")
                        .HasColumnType("integer");

                    b.Property<int>("InvoiceID")
                        .HasColumnType("integer");

                    b.Property<string>("Note")
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)");

                    b.Property<DateTime>("PaymentDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<string>("PaymentMethod")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)");

                    b.Property<string>("TransactionCode")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)");

                    b.HasKey("PaymentID");

                    b.HasIndex("InvoiceID");

                    b.ToTable("InvoicePayment");
                });

            modelBuilder.Entity("EIMS.Domain.Entities.InvoiceRequest", b =>
                {
                    b.Property<int>("RequestID")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("RequestID"));

                    b.Property<int?>("CompanyID")
                        .HasColumnType("integer");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<int?>("CreatedInvoiceID")
                        .HasColumnType("integer");

                    b.Property<int>("CustomerID")
                        .HasColumnType("integer");

                    b.Property<string>("EvidenceFilePath")
                        .HasColumnType("text");

                    b.Property<string>("InvoiceCustomerAddress")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<string>("InvoiceCustomerName")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<string>("InvoiceCustomerTaxCode")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<int>("InvoiceCustomerType")
                        .HasColumnType("integer");

                    b.Property<int>("MinRows")
                        .HasColumnType("integer");

                    b.Property<string>("Notes")
                        .HasMaxLength(2000)
                        .HasColumnType("character varying(2000)");

                    b.Property<string>("PaymentMethod")
                        .HasColumnType("text");

                    b.Property<int>("RequestStatusID")
                        .HasColumnType("integer");

                    b.Property<int?>("SaleID")
                        .HasColumnType("integer");

                    b.Property<decimal>("SubtotalAmount")
                        .HasColumnType("decimal(18, 2)");

                    b.Property<decimal>("TotalAmount")
                        .HasColumnType("decimal(18, 2)");

                    b.Property<string>("TotalAmountInWords")
                        .IsRequired()
                        .HasMaxLength(1000)
                        .HasColumnType("character varying(1000)");

                    b.Property<decimal>("VATAmount")
                        .HasColumnType("decimal(18, 2)");

                    b.Property<decimal>("VATRate")
                        .HasColumnType("decimal(5, 2)");

                    b.HasKey("RequestID");

                    b.HasIndex("CompanyID");

                    b.HasIndex("CreatedInvoiceID")
                        .IsUnique();

                    b.HasIndex("CustomerID");

                    b.HasIndex("RequestStatusID");

                    b.HasIndex("SaleID");

                    b.ToTable("InvoiceRequests");
                });

            modelBuilder.Entity("EIMS.Domain.Entities.InvoiceRequestItem", b =>
                {
                    b.Property<int>("RequestItemID")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("RequestItemID"));

                    b.Property<decimal>("Amount")
                        .HasColumnType("decimal(18, 2)");

                    b.Property<string>("Note")
                        .HasColumnType("text");

                    b.Property<int>("ProductID")
                        .HasColumnType("integer");

                    b.Property<double>("Quantity")
                        .HasColumnType("decimal(18, 4)");

                    b.Property<int>("RequestID")
                        .HasColumnType("integer");

                    b.Property<decimal>("UnitPrice")
                        .HasColumnType("decimal(18, 2)");

                    b.Property<decimal>("VATAmount")
                        .HasColumnType("decimal(18, 2)");

                    b.HasKey("RequestItemID");

                    b.HasIndex("ProductID");

                    b.HasIndex("RequestID");

                    b.ToTable("InvoiceRequestItems");
                });

            modelBuilder.Entity("EIMS.Domain.Entities.InvoiceRequestStatus", b =>
                {
                    b.Property<int>("StatusID")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("StatusID"));

                    b.Property<string>("Description")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)");

                    b.Property<string>("StatusName")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)");

                    b.HasKey("StatusID");

                    b.ToTable("InvoiceRequestStatuses");

                    b.HasData(
                        new
                        {
                            StatusID = 1,
                            Description = "Mới tạo, chờ kế toán kiểm tra và duyệt",
                            StatusName = "Pending"
                        },
                        new
                        {
                            StatusID = 2,
                            Description = "Đã được duyệt và tạo thành hóa đơn chính thức",
                            StatusName = "Approved"
                        },
                        new
                        {
                            StatusID = 3,
                            Description = "Bị từ chối (cần sửa lại thông tin)",
                            StatusName = "Rejected"
                        },
                        new
                        {
                            StatusID = 4,
                            Description = "Đã bị hủy bởi người tạo",
                            StatusName = "Cancelled"
                        },
                        new
                        {
                            StatusID = 5,
                            Description = "Hóa đơn từ yêu cầu đã được phát hành",
                            StatusName = "Invoice_Issued"
                        });
                });

            modelBuilder.Entity("EIMS.Domain.Entities.InvoiceStatement", b =>
                {
                    b.Property<int>("StatementID")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("StatementID"));

                    b.Property<int>("CreatedBy")
                        .HasColumnType("integer");

                    b.Property<int>("CustomerID")
                        .HasColumnType("integer");

                    b.Property<DateTime>("DueDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<decimal>("NewCharges")
                        .HasColumnType("decimal(18, 2)");

                    b.Property<string>("Notes")
                        .HasColumnType("text");

                    b.Property<decimal>("OpeningBalance")
                        .HasColumnType("decimal(18, 2)");

                    b.Property<decimal>("PaidAmount")
                        .HasColumnType("decimal(18, 2)");

                    b.Property<int>("PeriodMonth")
                        .HasColumnType("integer");

                    b.Property<int>("PeriodYear")
                        .HasColumnType("integer");

                    b.Property<string>("StatementCode")
                        .HasColumnType("text");

                    b.Property<DateTime>("StatementDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<int>("StatusID")
                        .HasColumnType("integer");

                    b.Property<decimal>("TotalAmount")
                        .HasColumnType("decimal(18, 2)");

                    b.Property<int?>("TotalInvoices")
                        .HasColumnType("integer");

                    b.HasKey("StatementID");

                    b.HasIndex("CreatedBy");

                    b.HasIndex("CustomerID");

                    b.HasIndex("StatusID");

                    b.ToTable("InvoiceStatements");
                });

            modelBuilder.Entity("EIMS.Domain.Entities.InvoiceStatementDetail", b =>
                {
                    b.Property<int>("DetailID")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("DetailID"));

                    b.Property<int>("InvoiceID")
                        .HasColumnType("integer");

                    b.Property<decimal>("OutstandingAmount")
                        .HasColumnType("decimal(18, 2)");

                    b.Property<int>("StatementID")
                        .HasColumnType("integer");

                    b.HasKey("DetailID");

                    b.HasIndex("InvoiceID");

                    b.HasIndex("StatementID");

                    b.ToTable("InvoiceStatementDetails");
                });

            modelBuilder.Entity("EIMS.Domain.Entities.InvoiceStatus", b =>
                {
                    b.Property<int>("InvoiceStatusID")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("InvoiceStatusID"));

                    b.Property<string>("StatusName")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)");

                    b.HasKey("InvoiceStatusID");

                    b.ToTable("InvoiceStatuses");

                    b.HasData(
                        new
                        {
                            InvoiceStatusID = 1,
                            StatusName = "Draft"
                        },
                        new
                        {
                            InvoiceStatusID = 2,
                            StatusName = "Issued"
                        },
                        new
                        {
                            InvoiceStatusID = 3,
                            StatusName = "Cancelled"
                        },
                        new
                        {
                            InvoiceStatusID = 4,
                            StatusName = "Adjusted"
                        },
                        new
                        {
                            InvoiceStatusID = 5,
                            StatusName = "Replaced"
                        },
                        new
                        {
                            InvoiceStatusID = 6,
                            StatusName = "Pending Approval"
                        },
                        new
                        {
                            InvoiceStatusID = 7,
                            StatusName = "Pending Sign"
                        },
                        new
                        {
                            InvoiceStatusID = 8,
                            StatusName = "Signed"
                        },
                        new
                        {
                            InvoiceStatusID = 9,
                            StatusName = "Sent"
                        },
                        new
                        {
                            InvoiceStatusID = 10,
                            StatusName = "AdjustmentInProcess"
                        },
                        new
                        {
                            InvoiceStatusID = 11,
                            StatusName = "ReplacementInProcess"
                        },
                        new
                        {
                            InvoiceStatusID = 12,
                            StatusName = "TaxAuthority Approved"
                        },
                        new
                        {
                            InvoiceStatusID = 13,
                            StatusName = "TaxAuthority Rejected"
                        },
                        new
                        {
                            InvoiceStatusID = 14,
                            StatusName = "Processing"
                        },
                        new
                        {
                            InvoiceStatusID = 15,
                            StatusName = "Send Error"
                        },
                        new
                        {
                            InvoiceStatusID = 16,
                            StatusName = "Rejected"
                        });
                });

            modelBuilder.Entity("EIMS.Domain.Entities.InvoiceTemplate", b =>
                {
                    b.Property<int>("TemplateID")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("TemplateID"));

                    b.Property<int>("CreatedByUserID")
                        .HasColumnType("integer");

                    b.Property<bool>("IsActive")
                        .HasColumnType("boolean");

                    b.Property<string>("LayoutDefinition")
                        .HasColumnType("jsonb");

                    b.Property<string>("LogoUrl")
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)");

                    b.Property<int>("SerialID")
                        .HasColumnType("integer");

                    b.Property<int>("TemplateFrameID")
                        .HasColumnType("integer");

                    b.Property<string>("TemplateName")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)");

                    b.Property<int>("TemplateTypeID")
                        .HasColumnType("integer");

                    b.HasKey("TemplateID");

                    b.HasIndex("CreatedByUserID");

                    b.HasIndex("SerialID");

                    b.HasIndex("TemplateFrameID");

                    b.HasIndex("TemplateTypeID");

                    b.ToTable("InvoiceTemplates");

                    b.HasData(
                        new
                        {
                            TemplateID = -1,
                            CreatedByUserID = 1,
                            IsActive = true,
                            LayoutDefinition = "{\"table\": {\"columns\": [{\"id\": \"code\", \"label\": \"Mã hàng\", \"hasCode\": false, \"visible\": false}, {\"id\": \"name\", \"label\": \"Tên hàng hóa, dịch vụ\", \"hasCode\": false, \"visible\": false}, {\"id\": \"specs\", \"label\": \"Quy cách\", \"hasCode\": false, \"visible\": false}, {\"id\": \"unit\", \"label\": \"Đơn vị tính\", \"hasCode\": false, \"visible\": true}, {\"id\": \"quantity\", \"label\": \"Số lượng\", \"hasCode\": true, \"visible\": true}, {\"id\": \"price\", \"label\": \"Đơn giá\", \"hasCode\": true, \"visible\": true}, {\"id\": \"amount\", \"label\": \"Thành tiền\", \"hasCode\": true, \"visible\": false}, {\"id\": \"note\", \"label\": \"Ghi chú\", \"hasCode\": false, \"visible\": false}, {\"id\": \"warehouse\", \"label\": \"Kho nhập\", \"hasCode\": false, \"visible\": false}], \"rowCount\": 5, \"sttTitle\": \"STT\", \"sttContent\": \"[STT]\"}, \"company\": {\"name\": \"Công ty Cổ phần Giải pháp Tổng thể Kỷ Nguyên Số\", \"phone\": \"(028) 38 995 822\", \"fields\": [{\"id\": \"name\", \"label\": \"Đơn vị bán\", \"value\": \"Công ty Cổ phần Giải pháp Tổng thể Kỷ Nguyên Số\", \"visible\": true}, {\"id\": \"taxCode\", \"label\": \"Mã số thuế\", \"value\": \"0316882091\", \"visible\": false}, {\"id\": \"address\", \"label\": \"Địa chỉ\", \"value\": \"Tòa nhà ABC, 123 Đường XYZ, Phường Tân Định, Quận 1, TP. Hồ Chí Minh, Việt Nam\", \"visible\": true}, {\"id\": \"phone\", \"label\": \"Điện thoại\", \"value\": \"(028) 38 995 822\", \"visible\": true}, {\"id\": \"fax\", \"label\": \"Fax\", \"value\": \"\", \"visible\": false}, {\"id\": \"website\", \"label\": \"Website\", \"value\": \"kns.com.vn\", \"visible\": false}, {\"id\": \"email\", \"label\": \"Email\", \"value\": \"contact@kns.com.vn\", \"visible\": false}, {\"id\": \"bankAccount\", \"label\": \"Số tài khoản\", \"value\": \"245889119 - Ngân hàng TMCP Á Châu - CN Sài Gòn\", \"visible\": true}], \"address\": \"Tòa nhà ABC, 123 Đường XYZ, Phường Tân Định, Quận 1, TP. Hồ Chí Minh, Việt Nam\", \"taxCode\": \"0316882091\", \"bankAccount\": \"245889119 - Ngân hàng TMCP Á Châu - CN Sài Gòn\"}, \"settings\": {\"bilingual\": false, \"numberFont\": \"arial\", \"showQrCode\": true, \"visibility\": {\"showLogo\": true, \"showSignature\": true, \"showCompanyName\": true, \"showCompanyPhone\": true, \"showCompanyAddress\": true, \"showCompanyTaxCode\": false, \"showCompanyBankAccount\": true}, \"customerVisibility\": {\"customerName\": false, \"customerEmail\": false, \"customerPhone\": false, \"paymentMethod\": false, \"customerAddress\": false, \"customerTaxCode\": false}}, \"modelCode\": \"01GTKT\", \"background\": {\"frame\": \"https://res.cloudinary.com/djz86r9zd/image/upload/v1764156289/khunghoadon3_utka5u.png\", \"custom\": null}, \"invoiceDate\": \"2025-11-28T04:56:57.273Z\", \"templateCode\": \"1000000\"}",
                            SerialID = -1,
                            TemplateFrameID = 1,
                            TemplateName = "Hóa hệ thống không có ký hiệu",
                            TemplateTypeID = 1
                        });
                });

            modelBuilder.Entity("EIMS.Domain.Entities.InvoiceType", b =>
                {
                    b.Property<int>("InvoiceTypeID")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("InvoiceTypeID"));

                    b.Property<string>("Symbol")
                        .HasMaxLength(1)
                        .HasColumnType("character varying(1)");

                    b.Property<string>("TypeName")
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)");

                    b.HasKey("InvoiceTypeID");

                    b.ToTable("InvoiceTypes");

                    b.HasData(
                        new
                        {
                            InvoiceTypeID = -1,
                            Symbol = "0",
                            TypeName = "Hóa đơn hệ thống không có ký hiệu"
                        },
                        new
                        {
                            InvoiceTypeID = 1,
                            Symbol = "T",
                            TypeName = "Hóa đơn Doanh nghiệp, tổ chức, hộ, cá nhân"
                        },
                        new
                        {
                            InvoiceTypeID = 2,
                            Symbol = "D",
                            TypeName = "Hóa đơn tài sản công và hóa đơn bán hàng dự trữ quốc gia"
                        },
                        new
                        {
                            InvoiceTypeID = 3,
                            Symbol = "L",
                            TypeName = "Hóa đơn Cơ quan thuế cấp theo từng lần phát sinh"
                        },
                        new
                        {
                            InvoiceTypeID = 4,
                            Symbol = "M",
                            TypeName = "Hóa đơn khởi tạo từ máy tính tiền"
                        },
                        new
                        {
                            InvoiceTypeID = 5,
                            Symbol = "N",
                            TypeName = "Phiếu xuất kho kiêm vận chuyển nội bộ"
                        },
                        new
                        {
                            InvoiceTypeID = 6,
                            Symbol = "B",
                            TypeName = "Phiếu xuất kho gửi bán đại lý điện"
                        },
                        new
                        {
                            InvoiceTypeID = 7,
                            Symbol = "G",
                            TypeName = "Tem, vé, thẻ điện tử là hóa đơn GTGT"
                        },
                        new
                        {
                            InvoiceTypeID = 8,
                            Symbol = "H",
                            TypeName = "Tem, vé, thẻ điện tử là hóa đơn bán hàng"
                        },
                        new
                        {
                            InvoiceTypeID = 9,
                            Symbol = "X",
                            TypeName = "Hóa đơn thương mại điện tử"
                        });
                });

            modelBuilder.Entity("EIMS.Domain.Entities.MinuteInvoice", b =>
                {
                    b.Property<int>("MinutesInvoiceId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("MinutesInvoiceId"));

                    b.Property<DateTime?>("BuyerSignedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<int>("CreatedBy")
                        .HasColumnType("integer");

                    b.Property<string>("Description")
                        .HasColumnType("text");

                    b.Property<string>("FilePath")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<int?>("InvoiceId")
                        .IsRequired()
                        .HasColumnType("integer");

                    b.Property<bool>("IsBuyerSigned")
                        .HasColumnType("boolean");

                    b.Property<bool>("IsSellerSigned")
                        .HasColumnType("boolean");

                    b.Property<string>("MinuteCode")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<int>("MinutesType")
                        .HasColumnType("integer");

                    b.Property<DateTime?>("SellerSignedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<int>("Status")
                        .HasColumnType("integer");

                    b.HasKey("MinutesInvoiceId");

                    b.HasIndex("CreatedBy");

                    b.HasIndex("InvoiceId");

                    b.ToTable("MinuteInvoices");
                });

            modelBuilder.Entity("EIMS.Domain.Entities.Notification", b =>
                {
                    b.Property<int>("NotificationID")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("NotificationID"));

                    b.Property<string>("Content")
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)");

                    b.Property<int>("NotificationStatusID")
                        .HasColumnType("integer");

                    b.Property<int>("NotificationTypeID")
                        .HasColumnType("integer");

                    b.Property<DateTime>("Time")
                        .HasColumnType("timestamp with time zone");

                    b.Property<int>("UserID")
                        .HasColumnType("integer");

                    b.HasKey("NotificationID");

                    b.HasIndex("NotificationStatusID");

                    b.HasIndex("NotificationTypeID");

                    b.HasIndex("UserID");

                    b.ToTable("Notifications");
                });

            modelBuilder.Entity("EIMS.Domain.Entities.NotificationStatus", b =>
                {
                    b.Property<int>("StatusID")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("StatusID"));

                    b.Property<string>("StatusName")
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)");

                    b.HasKey("StatusID");

                    b.ToTable("NotificationStatuses");

                    b.HasData(
                        new
                        {
                            StatusID = 1,
                            StatusName = "Chưa đọc"
                        },
                        new
                        {
                            StatusID = 2,
                            StatusName = "Đã đọc"
                        },
                        new
                        {
                            StatusID = 3,
                            StatusName = "Đã lưu trữ"
                        });
                });

            modelBuilder.Entity("EIMS.Domain.Entities.NotificationType", b =>
                {
                    b.Property<int>("TypeID")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("TypeID"));

                    b.Property<string>("TypeName")
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)");

                    b.HasKey("TypeID");

                    b.ToTable("NotificationTypes");

                    b.HasData(
                        new
                        {
                            TypeID = 1,
                            TypeName = "Hệ thống"
                        },
                        new
                        {
                            TypeID = 2,
                            TypeName = "Hóa đơn"
                        },
                        new
                        {
                            TypeID = 3,
                            TypeName = "Thanh toán"
                        },
                        new
                        {
                            TypeID = 4,
                            TypeName = "Nhắc nhở"
                        },
                        new
                        {
                            TypeID = 5,
                            TypeName = "Phê duyệt"
                        },
                        new
                        {
                            TypeID = 6,
                            TypeName = "Báo cáo"
                        },
                        new
                        {
                            TypeID = 7,
                            TypeName = "Bảo mật"
                        });
                });

            modelBuilder.Entity("EIMS.Domain.Entities.PaymentStatus", b =>
                {
                    b.Property<int>("PaymentStatusID")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("PaymentStatusID"));

                    b.Property<string>("StatusName")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)");

                    b.HasKey("PaymentStatusID");

                    b.ToTable("PaymentStatuses");

                    b.HasData(
                        new
                        {
                            PaymentStatusID = 1,
                            StatusName = "Unpaid"
                        },
                        new
                        {
                            PaymentStatusID = 2,
                            StatusName = "PartiallyPaid"
                        },
                        new
                        {
                            PaymentStatusID = 3,
                            StatusName = "Paid"
                        },
                        new
                        {
                            PaymentStatusID = 4,
                            StatusName = "Overdue"
                        });
                });

            modelBuilder.Entity("EIMS.Domain.Entities.Prefix", b =>
                {
                    b.Property<int>("PrefixID")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("PrefixID"));

                    b.Property<string>("PrefixName")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)");

                    b.HasKey("PrefixID");

                    b.ToTable("Prefixes");

                    b.HasData(
                        new
                        {
                            PrefixID = 1,
                            PrefixName = "Hóa đơn điện tử giá trị gia tăng"
                        },
                        new
                        {
                            PrefixID = 2,
                            PrefixName = "Hóa đơn điện tử bán hàng"
                        },
                        new
                        {
                            PrefixID = 3,
                            PrefixName = "Hóa đơn điện tử bán tài sản công"
                        },
                        new
                        {
                            PrefixID = 4,
                            PrefixName = "Hóa đơn điện tử bán hàng dự trữ quốc gia"
                        },
                        new
                        {
                            PrefixID = 5,
                            PrefixName = "Hóa đơn điện tử khác là tem điện tử, vé điện tử"
                        },
                        new
                        {
                            PrefixID = 6,
                            PrefixName = "Chứng từ điện tử được sử dụng và quản lý"
                        },
                        new
                        {
                            PrefixID = 7,
                            PrefixName = "Hóa đơn thương mại điện tử"
                        },
                        new
                        {
                            PrefixID = 8,
                            PrefixName = "Hóa đơn giá trị gia tăng tích hợp biên lai thu thuế, phí, lệ phí"
                        },
                        new
                        {
                            PrefixID = 9,
                            PrefixName = "Hóa đơn bán hàng tích hợp biên lai thu thuế, phí, lệ phí"
                        });
                });

            modelBuilder.Entity("EIMS.Domain.Entities.Product", b =>
                {
                    b.Property<int>("ProductID")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("ProductID"));

                    b.Property<decimal>("BasePrice")
                        .HasColumnType("decimal(18,2)");

                    b.Property<int>("CategoryID")
                        .HasColumnType("integer");

                    b.Property<string>("Code")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)");

                    b.Property<DateTime>("CreatedDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasDefaultValueSql("NOW()");

                    b.Property<string>("Description")
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)");

                    b.Property<bool?>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(true);

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)");

                    b.Property<string>("Unit")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)");

                    b.Property<decimal?>("VATRate")
                        .HasColumnType("decimal(5,2)");

                    b.HasKey("ProductID");

                    b.HasIndex("CategoryID");

                    b.ToTable("Products", (string)null);

                    b.HasData(
                        new
                        {
                            ProductID = 1,
                            BasePrice = 23000m,
                            CategoryID = 1,
                            Code = "HH0001",
                            CreatedDate = new DateTime(2026, 1, 25, 8, 39, 7, 972, DateTimeKind.Utc).AddTicks(3615),
                            Description = "Xăng RON95 chịu thuế GTGT 10%",
                            IsActive = true,
                            Name = "Xăng RON95",
                            Unit = "Lít",
                            VATRate = 10m
                        },
                        new
                        {
                            ProductID = 2,
                            BasePrice = 500000m,
                            CategoryID = 2,
                            Code = "DV001",
                            CreatedDate = new DateTime(2026, 1, 25, 8, 39, 7, 972, DateTimeKind.Utc).AddTicks(3622),
                            Description = "Dịch vụ hosting thuế suất 8%",
                            IsActive = true,
                            Name = "Dịch vụ cho thuê máy chủ (Hosting)",
                            Unit = "Tháng",
                            VATRate = 8m
                        },
                        new
                        {
                            ProductID = 3,
                            BasePrice = 10000000m,
                            CategoryID = 3,
                            Code = "SW001",
                            CreatedDate = new DateTime(2026, 1, 25, 8, 39, 7, 972, DateTimeKind.Utc).AddTicks(3625),
                            Description = "Phần mềm không chịu thuế GTGT",
                            IsActive = true,
                            Name = "Phần mềm kế toán bản quyền",
                            Unit = "Gói",
                            VATRate = 0m
                        });
                });

            modelBuilder.Entity("EIMS.Domain.Entities.RefreshToken", b =>
                {
                    b.Property<int>("ID")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("ID"));

                    b.Property<DateTime>("Created")
                        .HasColumnType("timestamp with time zone");

                    b.Property<DateTime>("Expires")
                        .HasColumnType("timestamp with time zone");

                    b.Property<string>("Token")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<int>("UserId")
                        .HasColumnType("integer");

                    b.HasKey("ID");

                    b.HasIndex("UserId");

                    b.ToTable("RefreshTokens");
                });

            modelBuilder.Entity("EIMS.Domain.Entities.Role", b =>
                {
                    b.Property<int>("RoleID")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("RoleID"));

                    b.Property<string>("RoleName")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)");

                    b.HasKey("RoleID");

                    b.ToTable("Roles");

                    b.HasData(
                        new
                        {
                            RoleID = 1,
                            RoleName = "Admin"
                        },
                        new
                        {
                            RoleID = 2,
                            RoleName = "Accountant"
                        },
                        new
                        {
                            RoleID = 3,
                            RoleName = "Sale"
                        },
                        new
                        {
                            RoleID = 4,
                            RoleName = "HOD"
                        },
                        new
                        {
                            RoleID = 5,
                            RoleName = "Customer"
                        });
                });

            modelBuilder.Entity("EIMS.Domain.Entities.Serial", b =>
                {
                    b.Property<int>("SerialID")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("SerialID"));

                    b.Property<long>("CurrentInvoiceNumber")
                        .HasColumnType("bigint");

                    b.Property<int>("InvoiceTypeID")
                        .HasColumnType("integer");

                    b.Property<int>("PrefixID")
                        .HasColumnType("integer");

                    b.Property<int>("SerialStatusID")
                        .HasColumnType("integer");

                    b.Property<string>("Tail")
                        .HasMaxLength(2)
                        .HasColumnType("character varying(2)");

                    b.Property<string>("Year")
                        .HasMaxLength(2)
                        .HasColumnType("character varying(2)");

                    b.HasKey("SerialID");

                    b.HasIndex("InvoiceTypeID");

                    b.HasIndex("PrefixID");

                    b.HasIndex("SerialStatusID");

                    b.ToTable("Serials");

                    b.HasData(
                        new
                        {
                            SerialID = -1,
                            CurrentInvoiceNumber = 0L,
                            InvoiceTypeID = -1,
                            PrefixID = 1,
                            SerialStatusID = -1,
                            Tail = "00",
                            Year = "00"
                        });
                });

            modelBuilder.Entity("EIMS.Domain.Entities.SerialStatus", b =>
                {
                    b.Property<int>("SerialStatusID")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("SerialStatusID"));

                    b.Property<string>("StatusName")
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)");

                    b.Property<string>("Symbol")
                        .HasMaxLength(1)
                        .HasColumnType("character varying(1)");

                    b.HasKey("SerialStatusID");

                    b.ToTable("SerialStatuses");

                    b.HasData(
                        new
                        {
                            SerialStatusID = -1,
                            StatusName = "Hóa đơn hệ thống không có ký hiệu",
                            Symbol = "0"
                        },
                        new
                        {
                            SerialStatusID = 1,
                            StatusName = "Hóa đơn có mã của cơ quan thuế",
                            Symbol = "C"
                        },
                        new
                        {
                            SerialStatusID = 2,
                            StatusName = "Hóa đơn không có mã của cơ quan thuế",
                            Symbol = "K"
                        });
                });

            modelBuilder.Entity("EIMS.Domain.Entities.StatementPayment", b =>
                {
                    b.Property<int>("StatementPaymentID")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("StatementPaymentID"));

                    b.Property<decimal>("AppliedAmount")
                        .HasColumnType("decimal(18, 2)");

                    b.Property<DateTime>("AppliedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<int?>("CreatedBy")
                        .HasColumnType("integer");

                    b.Property<int>("PaymentID")
                        .HasColumnType("integer");

                    b.Property<int>("StatementID")
                        .HasColumnType("integer");

                    b.HasKey("StatementPaymentID");

                    b.HasIndex("PaymentID");

                    b.HasIndex("StatementID");

                    b.ToTable("StatementPayments");
                });

            modelBuilder.Entity("EIMS.Domain.Entities.StatementStatus", b =>
                {
                    b.Property<int>("StatusID")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("StatusID"));

                    b.Property<string>("StatusName")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("character varying(20)");

                    b.HasKey("StatusID");

                    b.ToTable("StatementStatuses");

                    b.HasData(
                        new
                        {
                            StatusID = 1,
                            StatusName = "Draft"
                        },
                        new
                        {
                            StatusID = 2,
                            StatusName = "Published"
                        },
                        new
                        {
                            StatusID = 3,
                            StatusName = "Wait for payment"
                        },
                        new
                        {
                            StatusID = 4,
                            StatusName = "Partially Paid"
                        },
                        new
                        {
                            StatusID = 5,
                            StatusName = "Paid"
                        },
                        new
                        {
                            StatusID = 6,
                            StatusName = "Cancelled"
                        },
                        new
                        {
                            StatusID = 7,
                            StatusName = "Refunded"
                        });
                });

            modelBuilder.Entity("EIMS.Domain.Entities.SystemActivityLog", b =>
                {
                    b.Property<int>("LogId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("LogId"));

                    b.Property<string>("ActionName")
                        .HasColumnType("text");

                    b.Property<string>("Description")
                        .HasColumnType("text");

                    b.Property<string>("IpAddress")
                        .HasColumnType("text");

                    b.Property<string>("Status")
                        .HasColumnType("text");

                    b.Property<DateTime>("Timestamp")
                        .HasColumnType("timestamp with time zone");

                    b.Property<string>("TraceId")
                        .HasColumnType("text");

                    b.Property<string>("UserId")
                        .HasColumnType("text");

                    b.HasKey("LogId");

                    b.ToTable("SystemActivityLogs");
                });

            modelBuilder.Entity("EIMS.Domain.Entities.TaxApiLog", b =>
                {
                    b.Property<int>("TaxLogID")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("TaxLogID"));

                    b.Property<int?>("InvoiceID")
                        .HasColumnType("integer");

                    b.Property<string>("MCCQT")
                        .HasColumnType("text");

                    b.Property<string>("MTDiep")
                        .HasColumnType("text");

                    b.Property<string>("MTDiepPhanHoi")
                        .HasColumnType("text");

                    b.Property<string>("RequestPayload")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<string>("ResponsePayload")
                        .HasColumnType("text");

                    b.Property<string>("SoTBao")
                        .HasColumnType("text");

                    b.Property<int>("TaxApiStatusID")
                        .HasColumnType("integer");

                    b.Property<DateTime>("Timestamp")
                        .HasColumnType("timestamp with time zone");

                    b.HasKey("TaxLogID");

                    b.HasIndex("InvoiceID");

                    b.HasIndex("TaxApiStatusID");

                    b.ToTable("TaxApiLogs");
                });

            modelBuilder.Entity("EIMS.Domain.Entities.TaxApiStatus", b =>
                {
                    b.Property<int>("TaxApiStatusID")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("TaxApiStatusID"));

                    b.Property<string>("Code")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)");

                    b.Property<string>("StatusName")
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)");

                    b.HasKey("TaxApiStatusID");

                    b.ToTable("TaxApiStatuses");

                    b.HasData(
                        new
                        {
                            TaxApiStatusID = 1,
                            Code = "PENDING",
                            StatusName = "Đang gửi CQT"
                        },
                        new
                        {
                            TaxApiStatusID = 2,
                            Code = "RECEIVED",
                            StatusName = "CQT đã tiếp nhận"
                        },
                        new
                        {
                            TaxApiStatusID = 3,
                            Code = "REJECTED",
                            StatusName = "CQT từ chối"
                        },
                        new
                        {
                            TaxApiStatusID = 4,
                            Code = "APPROVED",
                            StatusName = "CQT đã cấp mã"
                        },
                        new
                        {
                            TaxApiStatusID = 5,
                            Code = "FAILED",
                            StatusName = "Lỗi hệ thống"
                        },
                        new
                        {
                            TaxApiStatusID = 6,
                            Code = "PROCESSING",
                            StatusName = "Đang xử lý"
                        },
                        new
                        {
                            TaxApiStatusID = 7,
                            Code = "NOT_FOUND",
                            StatusName = "Không tìm thấy hóa đơn"
                        },
                        new
                        {
                            TaxApiStatusID = 8,
                            Code = "NOT_SENT",
                            StatusName = "Hoá đơn đang trong trạng thái nháp/chờ kí"
                        },
                        new
                        {
                            TaxApiStatusID = 9,
                            Code = "TECHNICAL_ERROR",
                            StatusName = "Lỗi kĩ thuật"
                        },
                        new
                        {
                            TaxApiStatusID = 10,
                            Code = "TB01",
                            StatusName = "Tiếp nhận hợp lệ"
                        },
                        new
                        {
                            TaxApiStatusID = 11,
                            Code = "TB02",
                            StatusName = "Từ chối: Sai định dạng XML/XSD"
                        },
                        new
                        {
                            TaxApiStatusID = 12,
                            Code = "TB03",
                            StatusName = "Từ chối: Chữ ký số không hợp lệ"
                        },
                        new
                        {
                            TaxApiStatusID = 13,
                            Code = "TB04",
                            StatusName = "Từ chối: MST không đúng"
                        },
                        new
                        {
                            TaxApiStatusID = 14,
                            Code = "TB05",
                            StatusName = "Từ chối: Thiếu thông tin bắt buộc"
                        },
                        new
                        {
                            TaxApiStatusID = 15,
                            Code = "TB06",
                            StatusName = "Từ chối: Sai định dạng dữ liệu"
                        },
                        new
                        {
                            TaxApiStatusID = 16,
                            Code = "TB07",
                            StatusName = "Từ chối: Trùng hóa đơn"
                        },
                        new
                        {
                            TaxApiStatusID = 17,
                            Code = "TB08",
                            StatusName = "Từ chối: Hóa đơn không được cấp mã"
                        },
                        new
                        {
                            TaxApiStatusID = 18,
                            Code = "TB09",
                            StatusName = "Từ chối: Không tìm thấy hóa đơn tham chiếu"
                        },
                        new
                        {
                            TaxApiStatusID = 19,
                            Code = "TB10",
                            StatusName = "Từ chối: Thông tin hàng hóa không hợp lệ"
                        },
                        new
                        {
                            TaxApiStatusID = 20,
                            Code = "TB11",
                            StatusName = "Từ chối: Bản thể hiện PDF sai cấu trúc"
                        },
                        new
                        {
                            TaxApiStatusID = 21,
                            Code = "TB12",
                            StatusName = "Lỗi kỹ thuật hệ thống thuế"
                        },
                        new
                        {
                            TaxApiStatusID = 30,
                            Code = "KQ01",
                            StatusName = "Đã cấp mã CQT"
                        },
                        new
                        {
                            TaxApiStatusID = 31,
                            Code = "KQ02",
                            StatusName = "Bị từ chối khi cấp mã"
                        },
                        new
                        {
                            TaxApiStatusID = 32,
                            Code = "KQ03",
                            StatusName = "Chưa có kết quả xử lý"
                        },
                        new
                        {
                            TaxApiStatusID = 33,
                            Code = "KQ04",
                            StatusName = "Không tìm thấy hóa đơn"
                        });
                });

            modelBuilder.Entity("EIMS.Domain.Entities.TaxMessageCode", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasColumnName("stt");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<string>("Category")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("category");

                    b.Property<string>("Description")
                        .HasColumnType("text")
                        .HasColumnName("description");

                    b.Property<int>("FlowType")
                        .HasColumnType("integer")
                        .HasColumnName("flow_type");

                    b.Property<string>("MessageCode")
                        .IsRequired()
                        .HasMaxLength(5)
                        .HasColumnType("character varying(5)")
                        .HasColumnName("message_code");

                    b.Property<string>("MessageName")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)")
                        .HasColumnName("message_name");

                    b.HasKey("Id");

                    b.HasIndex("MessageCode")
                        .IsUnique();

                    b.ToTable("tax_message_codes");

                    b.HasData(
                        new
                        {
                            Id = 1,
                            Category = "Đăng ký",
                            FlowType = 1,
                            MessageCode = "100",
                            MessageName = "Thông điệp gửi tờ khai đăng ký/thay đổi thông tin sử dụng hóa đơn điện tử"
                        },
                        new
                        {
                            Id = 2,
                            Category = "Đăng ký",
                            FlowType = 1,
                            MessageCode = "101",
                            MessageName = "Thông điệp gửi tờ khai đăng ký thay đổi thông tin đăng ký sử dụng HĐĐT khi ủy nhiệm/nhận ủy nhiệm lập hóa đơn"
                        },
                        new
                        {
                            Id = 3,
                            Category = "Đăng ký",
                            FlowType = 2,
                            MessageCode = "102",
                            MessageName = "Thông điệp tiếp nhận/không tiếp nhận tờ khai đăng ký HĐĐT"
                        },
                        new
                        {
                            Id = 4,
                            Category = "Đăng ký",
                            FlowType = 2,
                            MessageCode = "103",
                            MessageName = "Thông điệp chấp nhận/không chấp nhận đăng ký HĐĐT"
                        },
                        new
                        {
                            Id = 5,
                            Category = "Đăng ký",
                            FlowType = 2,
                            MessageCode = "104",
                            MessageName = "Thông điệp chấp nhận/không chấp nhận thay đổi thông tin đăng ký HĐĐT khi ủy nhiệm"
                        },
                        new
                        {
                            Id = 6,
                            Category = "Đăng ký",
                            FlowType = 2,
                            MessageCode = "105",
                            MessageName = "Thông điệp hết thời gian sử dụng HĐĐT có mã"
                        },
                        new
                        {
                            Id = 7,
                            Category = "Đăng ký",
                            FlowType = 1,
                            MessageCode = "106",
                            MessageName = "Thông điệp gửi Đơn đề nghị cấp HĐĐT có mã theo từng lần"
                        },
                        new
                        {
                            Id = 8,
                            Category = "Đăng ký",
                            FlowType = 2,
                            MessageCode = "107",
                            MessageName = "Thông điệp yêu cầu giải trình/bổ sung tài liệu"
                        },
                        new
                        {
                            Id = 9,
                            Category = "Đăng ký",
                            FlowType = 2,
                            MessageCode = "108",
                            MessageName = "Thông điệp ngừng sử dụng hóa đơn điện tử"
                        },
                        new
                        {
                            Id = 10,
                            Category = "Đăng ký",
                            FlowType = 1,
                            MessageCode = "109",
                            MessageName = "Thông điệp gửi tờ khai đăng ký/thay đổi thông tin sử dụng chứng từ điện tử"
                        },
                        new
                        {
                            Id = 11,
                            Category = "Đăng ký",
                            FlowType = 1,
                            MessageCode = "110",
                            MessageName = "Thông điệp gửi tờ khai đăng ký thay đổi thông tin CTĐT khi ủy nhiệm"
                        },
                        new
                        {
                            Id = 12,
                            Category = "Đăng ký",
                            FlowType = 2,
                            MessageCode = "111",
                            MessageName = "Thông điệp tiếp nhận/không tiếp nhận tờ khai CTĐT"
                        },
                        new
                        {
                            Id = 13,
                            Category = "Đăng ký",
                            FlowType = 2,
                            MessageCode = "112",
                            MessageName = "Thông điệp chấp nhận/không chấp nhận đăng ký CTĐT"
                        },
                        new
                        {
                            Id = 14,
                            Category = "Đăng ký",
                            FlowType = 2,
                            MessageCode = "113",
                            MessageName = "Thông điệp chấp nhận/không chấp nhận đăng ký CTĐT khi ủy nhiệm"
                        },
                        new
                        {
                            Id = 15,
                            Category = "Đăng ký",
                            FlowType = 2,
                            MessageCode = "114",
                            MessageName = "Thông điệp thông báo về việc NNT hủy tờ khai hoặc thông báo"
                        },
                        new
                        {
                            Id = 16,
                            Category = "Tài khoản Cổng TCT",
                            FlowType = 1,
                            MessageCode = "150",
                            MessageName = "Thông điệp gửi tờ khai đăng ký mới/thay đổi thông tin/Chấm dứt tài khoản Cổng TCT"
                        },
                        new
                        {
                            Id = 17,
                            Category = "Tài khoản Cổng TCT",
                            FlowType = 2,
                            MessageCode = "151",
                            MessageName = "Thông điệp tiếp nhận/không tiếp nhận tài khoản Cổng TCT"
                        },
                        new
                        {
                            Id = 18,
                            Category = "Tài khoản Cổng TCT",
                            FlowType = 2,
                            MessageCode = "152",
                            MessageName = "Thông điệp chấp nhận/không chấp nhận tài khoản Cổng TCT"
                        },
                        new
                        {
                            Id = 19,
                            Category = "Hóa đơn Cấp mã",
                            FlowType = 1,
                            MessageCode = "200",
                            MessageName = "Thông điệp gửi hóa đơn điện tử tới cơ quan thuế để cấp mã"
                        },
                        new
                        {
                            Id = 20,
                            Category = "Hóa đơn Cấp mã",
                            FlowType = 1,
                            MessageCode = "201",
                            MessageName = "Thông điệp gửi hóa đơn điện tử theo từng lần phát sinh"
                        },
                        new
                        {
                            Id = 21,
                            Category = "Hóa đơn Cấp mã",
                            FlowType = 2,
                            MessageCode = "202",
                            MessageName = "Thông điệp kết quả cấp mã hóa đơn điện tử"
                        },
                        new
                        {
                            Id = 22,
                            Category = "Hóa đơn Không mã",
                            FlowType = 1,
                            MessageCode = "203",
                            MessageName = "Thông điệp gửi dữ liệu hóa đơn không mã"
                        },
                        new
                        {
                            Id = 23,
                            Category = "Hóa đơn Kiểm tra",
                            FlowType = 2,
                            MessageCode = "204",
                            MessageName = "Kết quả kiểm tra dữ liệu hóa đơn điện tử (TB01/KTDL)"
                        },
                        new
                        {
                            Id = 24,
                            Category = "Hóa đơn Cấp mã",
                            FlowType = 2,
                            MessageCode = "205",
                            MessageName = "Phản hồi hồ sơ đề nghị cấp mã theo từng lần"
                        },
                        new
                        {
                            Id = 25,
                            Category = "HĐ Máy tính tiền",
                            FlowType = 1,
                            MessageCode = "206",
                            MessageName = "Thông điệp gửi hóa đơn từ máy tính tiền"
                        },
                        new
                        {
                            Id = 26,
                            Category = "HĐ Đặc thù",
                            FlowType = 1,
                            MessageCode = "207",
                            MessageName = "Thông điệp gửi hóa đơn Casino"
                        },
                        new
                        {
                            Id = 27,
                            Category = "HĐ Điều chỉnh",
                            FlowType = 1,
                            MessageCode = "208",
                            MessageName = "Thông điệp gửi hóa đơn điều chỉnh/thay thế nhiều"
                        },
                        new
                        {
                            Id = 28,
                            Category = "HĐ Đặc thù",
                            FlowType = 1,
                            MessageCode = "209",
                            MessageName = "Thông điệp gửi hóa đơn tích hợp biên lai"
                        },
                        new
                        {
                            Id = 29,
                            Category = "HĐ Sai sót",
                            FlowType = 1,
                            MessageCode = "300",
                            MessageName = "Thông điệp thông báo hóa đơn có sai sót"
                        },
                        new
                        {
                            Id = 30,
                            Category = "HĐ Sai sót",
                            FlowType = 2,
                            MessageCode = "301",
                            MessageName = "Tiếp nhận và kết quả xử lý hóa đơn sai sót"
                        },
                        new
                        {
                            Id = 31,
                            Category = "HĐ Sai sót",
                            FlowType = 2,
                            MessageCode = "302",
                            MessageName = "Thông điệp thông báo hóa đơn cần rà soát"
                        },
                        new
                        {
                            Id = 32,
                            Category = "HĐ Sai sót",
                            FlowType = 1,
                            MessageCode = "303",
                            MessageName = "Thông điệp thông báo hóa đơn từ máy tính tiền có sai sót"
                        },
                        new
                        {
                            Id = 33,
                            Category = "Bảng Tổng hợp",
                            FlowType = 1,
                            MessageCode = "400",
                            MessageName = "Thông điệp chuyển bảng tổng hợp dữ liệu hóa đơn điện tử"
                        },
                        new
                        {
                            Id = 34,
                            Category = "Bảng Tổng hợp",
                            FlowType = 1,
                            MessageCode = "401",
                            MessageName = "Chuyển bảng tổng hợp + bảng kê điều chỉnh/thay thế"
                        },
                        new
                        {
                            Id = 35,
                            Category = "TCTN Ủy quyền",
                            FlowType = 1,
                            MessageCode = "500",
                            MessageName = "Chuyển dữ liệu HĐĐT TCTN ủy quyền cấp mã"
                        },
                        new
                        {
                            Id = 36,
                            Category = "TCTN Ủy quyền",
                            FlowType = 1,
                            MessageCode = "503",
                            MessageName = "Chuyển dữ liệu hóa đơn không đủ điều kiện cấp mã"
                        },
                        new
                        {
                            Id = 37,
                            Category = "TCTN Ủy quyền",
                            FlowType = 2,
                            MessageCode = "504",
                            MessageName = "Chuyển dữ liệu TB01/KTDL của TCUQ gửi NNT"
                        },
                        new
                        {
                            Id = 38,
                            Category = "TCTN Cung cấp",
                            FlowType = 1,
                            MessageCode = "505",
                            MessageName = "Cung cấp MST thay đổi thông tin trong ngày"
                        },
                        new
                        {
                            Id = 39,
                            Category = "TCTN Cung cấp",
                            FlowType = 1,
                            MessageCode = "506",
                            MessageName = "Cung cấp quyết định ngừng/tiếp tục sử dụng hóa đơn"
                        },
                        new
                        {
                            Id = 40,
                            Category = "TCTN Cung cấp",
                            FlowType = 1,
                            MessageCode = "507",
                            MessageName = "Cung cấp thông tin đăng ký sử dụng hóa đơn điện tử"
                        },
                        new
                        {
                            Id = 41,
                            Category = "Ký số Ủy quyền",
                            FlowType = 1,
                            MessageCode = "600",
                            MessageName = "Đề nghị ký số hóa đơn cấp mã"
                        },
                        new
                        {
                            Id = 42,
                            Category = "Ký số Ủy quyền",
                            FlowType = 2,
                            MessageCode = "601",
                            MessageName = "Tổng cục Thuế ký số hóa đơn đã cấp mã"
                        },
                        new
                        {
                            Id = 43,
                            Category = "Ký số Ủy quyền",
                            FlowType = 1,
                            MessageCode = "602",
                            MessageName = "Đề nghị ký số lên thông báo"
                        },
                        new
                        {
                            Id = 44,
                            Category = "Ký số Ủy quyền",
                            FlowType = 2,
                            MessageCode = "603",
                            MessageName = "Tổng cục Thuế ký số thông báo"
                        },
                        new
                        {
                            Id = 45,
                            Category = "Chứng từ Sai sót",
                            FlowType = 1,
                            MessageCode = "700",
                            MessageName = "Gửi thông báo chứng từ điện tử sai"
                        },
                        new
                        {
                            Id = 46,
                            Category = "Chứng từ Sai sót",
                            FlowType = 2,
                            MessageCode = "702",
                            MessageName = "Tiếp nhận & xử lý CTĐT sai"
                        },
                        new
                        {
                            Id = 47,
                            Category = "Chứng từ Sai sót",
                            FlowType = 2,
                            MessageCode = "703",
                            MessageName = "Thông báo CTĐT cần rà soát"
                        },
                        new
                        {
                            Id = 48,
                            Category = "Chứng từ Sai sót",
                            FlowType = 2,
                            MessageCode = "704",
                            MessageName = "Thông báo kết quả kiểm tra CTĐT"
                        },
                        new
                        {
                            Id = 49,
                            Category = "Phản hồi Khác",
                            FlowType = 2,
                            MessageCode = "999",
                            MessageName = "Thông điệp phản hồi kỹ thuật"
                        },
                        new
                        {
                            Id = 50,
                            Category = "Báo cáo Đối soát",
                            FlowType = 1,
                            MessageCode = "901",
                            MessageName = "Báo cáo đối soát hàng ngày"
                        },
                        new
                        {
                            Id = 51,
                            Category = "Báo cáo Đối soát",
                            FlowType = 1,
                            MessageCode = "902",
                            MessageName = "Báo cáo đối soát TCTN"
                        },
                        new
                        {
                            Id = 52,
                            Category = "Phản hồi Khác",
                            FlowType = 2,
                            MessageCode = "903",
                            MessageName = "Phản hồi kỹ thuật CTĐT"
                        },
                        new
                        {
                            Id = 53,
                            Category = "Phản hồi Khác",
                            FlowType = 2,
                            MessageCode = "-1",
                            MessageName = "Thông điệp phản hồi sai định dạng XML"
                        },
                        new
                        {
                            Id = 54,
                            Category = "Phản hồi Khác",
                            FlowType = 2,
                            MessageCode = "-2",
                            MessageName = "Dữ liệu đề nghị ký số bị lỗi"
                        });
                });

            modelBuilder.Entity("EIMS.Domain.Entities.TemplateFrame", b =>
                {
                    b.Property<int>("FrameID")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("FrameID"));

                    b.Property<string>("Description")
                        .HasColumnType("text");

                    b.Property<string>("FrameName")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)");

                    b.Property<string>("ImageUrl")
                        .IsRequired()
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)");

                    b.Property<bool>("IsActive")
                        .HasColumnType("boolean");

                    b.HasKey("FrameID");

                    b.ToTable("TemplateFrames");

                    b.HasData(
                        new
                        {
                            FrameID = 1,
                            FrameName = "Frame 1",
                            ImageUrl = "https://res.cloudinary.com/djz86r9zd/image/upload/v1764156291/khunghoadon11_kqjill.png",
                            IsActive = true
                        },
                        new
                        {
                            FrameID = 2,
                            FrameName = "Frame 2",
                            ImageUrl = "https://res.cloudinary.com/djz86r9zd/image/upload/v1764156289/khunghoadon3_utka5u.png",
                            IsActive = true
                        },
                        new
                        {
                            FrameID = 3,
                            FrameName = "Frame 3",
                            ImageUrl = "https://res.cloudinary.com/djz86r9zd/image/upload/v1764156287/khunghoadon10_pjapiv.png",
                            IsActive = true
                        },
                        new
                        {
                            FrameID = 4,
                            FrameName = "Frame 4",
                            ImageUrl = "https://res.cloudinary.com/djz86r9zd/image/upload/v1764156286/khunghoadon7_shsqte.png",
                            IsActive = true
                        },
                        new
                        {
                            FrameID = 5,
                            FrameName = "Frame 5",
                            ImageUrl = "https://res.cloudinary.com/djz86r9zd/image/upload/v1764156286/khunghoadon4_o9xatr.png",
                            IsActive = true
                        },
                        new
                        {
                            FrameID = 6,
                            FrameName = "Frame 6",
                            ImageUrl = "https://res.cloudinary.com/djz86r9zd/image/upload/v1764156286/khunghoadon9_smq1lj.png",
                            IsActive = true
                        },
                        new
                        {
                            FrameID = 7,
                            FrameName = "Frame 7",
                            ImageUrl = "https://res.cloudinary.com/djz86r9zd/image/upload/v1764156285/khunghoadon5_tveg16.png",
                            IsActive = true
                        },
                        new
                        {
                            FrameID = 8,
                            FrameName = "Frame 8",
                            ImageUrl = "https://res.cloudinary.com/djz86r9zd/image/upload/v1764156285/khunghoadon6_mp5fh1.png",
                            IsActive = true
                        },
                        new
                        {
                            FrameID = 9,
                            FrameName = "Frame 9",
                            ImageUrl = "https://res.cloudinary.com/djz86r9zd/image/upload/v1764156285/khunghoadon8_d5ho2y.png",
                            IsActive = true
                        },
                        new
                        {
                            FrameID = 10,
                            FrameName = "Frame 10",
                            ImageUrl = "https://res.cloudinary.com/djz86r9zd/image/upload/v1764156284/khunghoadon2_vamivw.png",
                            IsActive = true
                        },
                        new
                        {
                            FrameID = 11,
                            FrameName = "Frame 11",
                            ImageUrl = "https://res.cloudinary.com/djz86r9zd/image/upload/v1764156219/khunghoadon1_urc2b5.png",
                            IsActive = true
                        });
                });

            modelBuilder.Entity("EIMS.Domain.Entities.TemplateType", b =>
                {
                    b.Property<int>("TemplateTypeID")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("TemplateTypeID"));

                    b.Property<string>("TypeCategory")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)");

                    b.Property<string>("TypeName")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)");

                    b.HasKey("TemplateTypeID");

                    b.ToTable("TemplateTypes");

                    b.HasData(
                        new
                        {
                            TemplateTypeID = 1,
                            TypeCategory = "New",
                            TypeName = "Hóa đơn mới"
                        },
                        new
                        {
                            TemplateTypeID = 2,
                            TypeCategory = "Adjustment",
                            TypeName = "Hóa đơn điều chỉnh"
                        },
                        new
                        {
                            TemplateTypeID = 3,
                            TypeCategory = "Replacement",
                            TypeName = "Hóa đơn thay thế"
                        });
                });

            modelBuilder.Entity("EIMS.Domain.Entities.User", b =>
                {
                    b.Property<int>("UserID")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("UserID"));

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<int?>("CustomerID")
                        .HasColumnType("integer");

                    b.Property<string>("Email")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)");

                    b.Property<string>("EvidenceStoragePath")
                        .HasColumnType("text");

                    b.Property<string>("FullName")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)");

                    b.Property<bool>("IsActive")
                        .HasColumnType("boolean");

                    b.Property<bool>("IsPasswordChangeRequired")
                        .HasColumnType("boolean");

                    b.Property<string>("PasswordHash")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<string>("PhoneNumber")
                        .HasMaxLength(20)
                        .HasColumnType("character varying(20)");

                    b.Property<int>("RoleID")
                        .HasColumnType("integer");

                    b.Property<int>("Status")
                        .HasColumnType("integer");

                    b.HasKey("UserID");

                    b.HasIndex("CustomerID");

                    b.HasIndex("RoleID");

                    b.ToTable("Users");

                    b.HasData(
                        new
                        {
                            UserID = 1,
                            CreatedAt = new DateTime(2026, 1, 25, 8, 39, 8, 131, DateTimeKind.Utc).AddTicks(8176),
                            Email = "admin@eims.local",
                            FullName = "Admin User",
                            IsActive = true,
                            IsPasswordChangeRequired = false,
                            PasswordHash = "$2a$11$OjLTslJY203coLtRBhBTJu2kxxLFn9KzE1kFTmucpJ.ANXgEzjZy6",
                            PhoneNumber = "0101010101",
                            RoleID = 1,
                            Status = 2
                        },
                        new
                        {
                            UserID = 2,
                            CreatedAt = new DateTime(2026, 1, 25, 8, 39, 8, 289, DateTimeKind.Utc).AddTicks(9897),
                            Email = "accountant@eims.local",
                            FullName = "Accountant User",
                            IsActive = true,
                            IsPasswordChangeRequired = false,
                            PasswordHash = "$2a$11$Cz6DnNXJQ/fr3xNO9Ojl/u0UcuTN3WRNalLQ3QGPr6XuI3W92FscK",
                            PhoneNumber = "0202020202",
                            RoleID = 2,
                            Status = 2
                        },
                        new
                        {
                            UserID = 3,
                            CreatedAt = new DateTime(2026, 1, 25, 8, 39, 8, 448, DateTimeKind.Utc).AddTicks(7086),
                            Email = "sale@eims.local",
                            FullName = "Sales User",
                            IsActive = true,
                            IsPasswordChangeRequired = false,
                            PasswordHash = "$2a$11$maBToXuQSZXQpV3YuiTuueilouHEBKI0bRNFI4BbIb43OspESZo2W",
                            PhoneNumber = "0303030303",
                            RoleID = 3,
                            Status = 2
                        },
                        new
                        {
                            UserID = 4,
                            CreatedAt = new DateTime(2026, 1, 25, 8, 39, 8, 605, DateTimeKind.Utc).AddTicks(5082),
                            Email = "hod@eims.local",
                            FullName = "Head Dept User",
                            IsActive = true,
                            IsPasswordChangeRequired = false,
                            PasswordHash = "$2a$11$Mq2d3/unrWM8WbrlgHztW.MMFLjmR9vaa7hkZa2qEapJf8/Oo1wwu",
                            PhoneNumber = "0404040404",
                            RoleID = 4,
                            Status = 2
                        },
                        new
                        {
                            UserID = 5,
                            CreatedAt = new DateTime(2026, 1, 25, 8, 39, 8, 760, DateTimeKind.Utc).AddTicks(683),
                            Email = "customer@eims.local",
                            FullName = "Customer User",
                            IsActive = true,
                            IsPasswordChangeRequired = false,
                            PasswordHash = "$2a$11$cCYIeThzScfAcF0KEauy7.HNJi43qXrLaqy27Gx3bnOxD6HuX9sve",
                            PhoneNumber = "0505050505",
                            RoleID = 5,
                            Status = 2
                        });
                });

            modelBuilder.Entity("EIMS.Domain.Entities.AuditLog", b =>
                {
                    b.HasOne("EIMS.Domain.Entities.User", "User")
                        .WithMany("AuditLogs")
                        .HasForeignKey("UserID");

                    b.Navigation("User");
                });

            modelBuilder.Entity("EIMS.Domain.Entities.Customer", b =>
                {
                    b.HasOne("EIMS.Domain.Entities.User", "Sale")
                        .WithMany("ManagedCustomers")
                        .HasForeignKey("SaleID");

                    b.Navigation("Sale");
                });

            modelBuilder.Entity("EIMS.Domain.Entities.Invoice", b =>
                {
                    b.HasOne("EIMS.Domain.Entities.Company", "Company")
                        .WithMany("Invoices")
                        .HasForeignKey("CompanyId");

                    b.HasOne("EIMS.Domain.Entities.User", "InvoiceCreator")
                        .WithMany("CreatedInvoices")
                        .HasForeignKey("CreatedBy");

                    b.HasOne("EIMS.Domain.Entities.Customer", "Customer")
                        .WithMany("Invoices")
                        .HasForeignKey("CustomerID")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("EIMS.Domain.Entities.InvoiceStatus", "InvoiceStatus")
                        .WithMany("Invoices")
                        .HasForeignKey("InvoiceStatusID")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("EIMS.Domain.Entities.User", "Issuer")
                        .WithMany("IssuedInvoices")
                        .HasForeignKey("IssuerID");

                    b.HasOne("EIMS.Domain.Entities.Invoice", "OriginalInvoice")
                        .WithMany()
                        .HasForeignKey("OriginalInvoiceID");

                    b.HasOne("EIMS.Domain.Entities.PaymentStatus", "PaymentStatus")
                        .WithMany("Invoices")
                        .HasForeignKey("PaymentStatusID")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("EIMS.Domain.Entities.User", "Sales")
                        .WithMany("SalesInvoices")
                        .HasForeignKey("SalesID");

                    b.HasOne("EIMS.Domain.Entities.InvoiceTemplate", "Template")
                        .WithMany("Invoices")
                        .HasForeignKey("TemplateID")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Company");

                    b.Navigation("Customer");

                    b.Navigation("InvoiceCreator");

                    b.Navigation("InvoiceStatus");

                    b.Navigation("Issuer");

                    b.Navigation("OriginalInvoice");

                    b.Navigation("PaymentStatus");

                    b.Navigation("Sales");

                    b.Navigation("Template");
                });

            modelBuilder.Entity("EIMS.Domain.Entities.InvoiceErrorDetail", b =>
                {
                    b.HasOne("EIMS.Domain.Entities.Invoice", "Invoice")
                        .WithMany()
                        .HasForeignKey("InvoiceID");

                    b.HasOne("EIMS.Domain.Entities.InvoiceErrorNotification", "Notification")
                        .WithMany("Details")
                        .HasForeignKey("NotificationID")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Invoice");

                    b.Navigation("Notification");
                });

            modelBuilder.Entity("EIMS.Domain.Entities.InvoiceHistory", b =>
                {
                    b.HasOne("EIMS.Domain.Entities.Invoice", "Invoice")
                        .WithMany("HistoryEntries")
                        .HasForeignKey("InvoiceID")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("EIMS.Domain.Entities.User", "Performer")
                        .WithMany("HistoryActions")
                        .HasForeignKey("PerformerUserID");

                    b.HasOne("EIMS.Domain.Entities.Invoice", "ReferenceInvoice")
                        .WithMany("ReferencedByHistory")
                        .HasForeignKey("ReferenceInvoiceID");

                    b.Navigation("Invoice");

                    b.Navigation("Performer");

                    b.Navigation("ReferenceInvoice");
                });

            modelBuilder.Entity("EIMS.Domain.Entities.InvoiceItem", b =>
                {
                    b.HasOne("EIMS.Domain.Entities.Invoice", "Invoice")
                        .WithMany("InvoiceItems")
                        .HasForeignKey("InvoiceID")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("EIMS.Domain.Entities.InvoiceItem", "OriginalInvoiceItem")
                        .WithMany()
                        .HasForeignKey("OriginalInvoiceItemID");

                    b.HasOne("EIMS.Domain.Entities.Product", "Product")
                        .WithMany("InvoiceItems")
                        .HasForeignKey("ProductID")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Invoice");

                    b.Navigation("OriginalInvoiceItem");

                    b.Navigation("Product");
                });

            modelBuilder.Entity("EIMS.Domain.Entities.InvoicePayment", b =>
                {
                    b.HasOne("EIMS.Domain.Entities.Invoice", "Invoice")
                        .WithMany("Payments")
                        .HasForeignKey("InvoiceID")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Invoice");
                });

            modelBuilder.Entity("EIMS.Domain.Entities.InvoiceRequest", b =>
                {
                    b.HasOne("EIMS.Domain.Entities.Company", "Company")
                        .WithMany("InvoiceRequests")
                        .HasForeignKey("CompanyID");

                    b.HasOne("EIMS.Domain.Entities.Invoice", "CreatedInvoice")
                        .WithOne("OriginRequest")
                        .HasForeignKey("EIMS.Domain.Entities.InvoiceRequest", "CreatedInvoiceID");

                    b.HasOne("EIMS.Domain.Entities.Customer", "Customer")
                        .WithMany("InvoiceRequests")
                        .HasForeignKey("CustomerID")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("EIMS.Domain.Entities.InvoiceRequestStatus", "RequestStatus")
                        .WithMany("InvoiceRequests")
                        .HasForeignKey("RequestStatusID")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("EIMS.Domain.Entities.User", "Sales")
                        .WithMany("InvoiceRequests")
                        .HasForeignKey("SaleID");

                    b.Navigation("Company");

                    b.Navigation("CreatedInvoice");

                    b.Navigation("Customer");

                    b.Navigation("RequestStatus");

                    b.Navigation("Sales");
                });

            modelBuilder.Entity("EIMS.Domain.Entities.InvoiceRequestItem", b =>
                {
                    b.HasOne("EIMS.Domain.Entities.Product", "Product")
                        .WithMany()
                        .HasForeignKey("ProductID")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("EIMS.Domain.Entities.InvoiceRequest", "InvoiceRequests")
                        .WithMany("InvoiceRequestItems")
                        .HasForeignKey("RequestID")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("InvoiceRequests");

                    b.Navigation("Product");
                });

            modelBuilder.Entity("EIMS.Domain.Entities.InvoiceStatement", b =>
                {
                    b.HasOne("EIMS.Domain.Entities.User", "Creator")
                        .WithMany("CreatedStatements")
                        .HasForeignKey("CreatedBy")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("EIMS.Domain.Entities.Customer", "Customer")
                        .WithMany("Statements")
                        .HasForeignKey("CustomerID")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("EIMS.Domain.Entities.StatementStatus", "StatementStatus")
                        .WithMany("InvoiceStatements")
                        .HasForeignKey("StatusID")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Creator");

                    b.Navigation("Customer");

                    b.Navigation("StatementStatus");
                });

            modelBuilder.Entity("EIMS.Domain.Entities.InvoiceStatementDetail", b =>
                {
                    b.HasOne("EIMS.Domain.Entities.Invoice", "Invoice")
                        .WithMany("StatementDetails")
                        .HasForeignKey("InvoiceID")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("EIMS.Domain.Entities.InvoiceStatement", "Statement")
                        .WithMany("StatementDetails")
                        .HasForeignKey("StatementID")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Invoice");

                    b.Navigation("Statement");
                });

            modelBuilder.Entity("EIMS.Domain.Entities.InvoiceTemplate", b =>
                {
                    b.HasOne("EIMS.Domain.Entities.User", "CreatedBy")
                        .WithMany("CreatedTemplates")
                        .HasForeignKey("CreatedByUserID")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("EIMS.Domain.Entities.Serial", "Serial")
                        .WithMany("InvoiceTemplates")
                        .HasForeignKey("SerialID")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("EIMS.Domain.Entities.TemplateFrame", "TemplateFrame")
                        .WithMany("InvoiceTemplates")
                        .HasForeignKey("TemplateFrameID")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("EIMS.Domain.Entities.TemplateType", "TemplateType")
                        .WithMany("InvoiceTemplates")
                        .HasForeignKey("TemplateTypeID")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("CreatedBy");

                    b.Navigation("Serial");

                    b.Navigation("TemplateFrame");

                    b.Navigation("TemplateType");
                });

            modelBuilder.Entity("EIMS.Domain.Entities.MinuteInvoice", b =>
                {
                    b.HasOne("EIMS.Domain.Entities.User", "Creator")
                        .WithMany("CreatedMinutes")
                        .HasForeignKey("CreatedBy")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("EIMS.Domain.Entities.Invoice", "Invoice")
                        .WithMany("MinuteInvoices")
                        .HasForeignKey("InvoiceId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Creator");

                    b.Navigation("Invoice");
                });

            modelBuilder.Entity("EIMS.Domain.Entities.Notification", b =>
                {
                    b.HasOne("EIMS.Domain.Entities.NotificationStatus", "NotificationStatus")
                        .WithMany("Notifications")
                        .HasForeignKey("NotificationStatusID")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("EIMS.Domain.Entities.NotificationType", "NotificationType")
                        .WithMany("Notifications")
                        .HasForeignKey("NotificationTypeID")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("EIMS.Domain.Entities.User", "User")
                        .WithMany("Notifications")
                        .HasForeignKey("UserID")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("NotificationStatus");

                    b.Navigation("NotificationType");

                    b.Navigation("User");
                });

            modelBuilder.Entity("EIMS.Domain.Entities.Product", b =>
                {
                    b.HasOne("EIMS.Domain.Entities.Category", "Category")
                        .WithMany("Products")
                        .HasForeignKey("CategoryID")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Category");
                });

            modelBuilder.Entity("EIMS.Domain.Entities.RefreshToken", b =>
                {
                    b.HasOne("EIMS.Domain.Entities.User", "User")
                        .WithMany("RefreshTokens")
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("User");
                });

            modelBuilder.Entity("EIMS.Domain.Entities.Serial", b =>
                {
                    b.HasOne("EIMS.Domain.Entities.InvoiceType", "InvoiceType")
                        .WithMany("Serials")
                        .HasForeignKey("InvoiceTypeID")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("EIMS.Domain.Entities.Prefix", "Prefix")
                        .WithMany("Serials")
                        .HasForeignKey("PrefixID")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("EIMS.Domain.Entities.SerialStatus", "SerialStatus")
                        .WithMany("Serials")
                        .HasForeignKey("SerialStatusID")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("InvoiceType");

                    b.Navigation("Prefix");

                    b.Navigation("SerialStatus");
                });

            modelBuilder.Entity("EIMS.Domain.Entities.StatementPayment", b =>
                {
                    b.HasOne("EIMS.Domain.Entities.InvoicePayment", "Payment")
                        .WithMany("StatementPayments")
                        .HasForeignKey("PaymentID")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("EIMS.Domain.Entities.InvoiceStatement", "Statement")
                        .WithMany("StatementPayments")
                        .HasForeignKey("StatementID")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Payment");

                    b.Navigation("Statement");
                });

            modelBuilder.Entity("EIMS.Domain.Entities.TaxApiLog", b =>
                {
                    b.HasOne("EIMS.Domain.Entities.Invoice", "Invoice")
                        .WithMany("TaxApiLogs")
                        .HasForeignKey("InvoiceID");

                    b.HasOne("EIMS.Domain.Entities.TaxApiStatus", "TaxApiStatus")
                        .WithMany("TaxApiLogs")
                        .HasForeignKey("TaxApiStatusID")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Invoice");

                    b.Navigation("TaxApiStatus");
                });

            modelBuilder.Entity("EIMS.Domain.Entities.User", b =>
                {
                    b.HasOne("EIMS.Domain.Entities.Customer", "Customer")
                        .WithMany("Users")
                        .HasForeignKey("CustomerID");

                    b.HasOne("EIMS.Domain.Entities.Role", "Role")
                        .WithMany("Users")
                        .HasForeignKey("RoleID")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Customer");

                    b.Navigation("Role");
                });

            modelBuilder.Entity("EIMS.Domain.Entities.Category", b =>
                {
                    b.Navigation("Products");
                });

            modelBuilder.Entity("EIMS.Domain.Entities.Company", b =>
                {
                    b.Navigation("InvoiceRequests");

                    b.Navigation("Invoices");
                });

            modelBuilder.Entity("EIMS.Domain.Entities.Customer", b =>
                {
                    b.Navigation("InvoiceRequests");

                    b.Navigation("Invoices");

                    b.Navigation("Statements");

                    b.Navigation("Users");
                });

            modelBuilder.Entity("EIMS.Domain.Entities.Invoice", b =>
                {
                    b.Navigation("HistoryEntries");

                    b.Navigation("InvoiceItems");

                    b.Navigation("MinuteInvoices");

                    b.Navigation("OriginRequest");

                    b.Navigation("Payments");

                    b.Navigation("ReferencedByHistory");

                    b.Navigation("StatementDetails");

                    b.Navigation("TaxApiLogs");
                });

            modelBuilder.Entity("EIMS.Domain.Entities.InvoiceErrorNotification", b =>
                {
                    b.Navigation("Details");
                });

            modelBuilder.Entity("EIMS.Domain.Entities.InvoicePayment", b =>
                {
                    b.Navigation("StatementPayments");
                });

            modelBuilder.Entity("EIMS.Domain.Entities.InvoiceRequest", b =>
                {
                    b.Navigation("InvoiceRequestItems");
                });

            modelBuilder.Entity("EIMS.Domain.Entities.InvoiceRequestStatus", b =>
                {
                    b.Navigation("InvoiceRequests");
                });

            modelBuilder.Entity("EIMS.Domain.Entities.InvoiceStatement", b =>
                {
                    b.Navigation("StatementDetails");

                    b.Navigation("StatementPayments");
                });

            modelBuilder.Entity("EIMS.Domain.Entities.InvoiceStatus", b =>
                {
                    b.Navigation("Invoices");
                });

            modelBuilder.Entity("EIMS.Domain.Entities.InvoiceTemplate", b =>
                {
                    b.Navigation("Invoices");
                });

            modelBuilder.Entity("EIMS.Domain.Entities.InvoiceType", b =>
                {
                    b.Navigation("Serials");
                });

            modelBuilder.Entity("EIMS.Domain.Entities.NotificationStatus", b =>
                {
                    b.Navigation("Notifications");
                });

            modelBuilder.Entity("EIMS.Domain.Entities.NotificationType", b =>
                {
                    b.Navigation("Notifications");
                });

            modelBuilder.Entity("EIMS.Domain.Entities.PaymentStatus", b =>
                {
                    b.Navigation("Invoices");
                });

            modelBuilder.Entity("EIMS.Domain.Entities.Prefix", b =>
                {
                    b.Navigation("Serials");
                });

            modelBuilder.Entity("EIMS.Domain.Entities.Product", b =>
                {
                    b.Navigation("InvoiceItems");
                });

            modelBuilder.Entity("EIMS.Domain.Entities.Role", b =>
                {
                    b.Navigation("Users");
                });

            modelBuilder.Entity("EIMS.Domain.Entities.Serial", b =>
                {
                    b.Navigation("InvoiceTemplates");
                });

            modelBuilder.Entity("EIMS.Domain.Entities.SerialStatus", b =>
                {
                    b.Navigation("Serials");
                });

            modelBuilder.Entity("EIMS.Domain.Entities.StatementStatus", b =>
                {
                    b.Navigation("InvoiceStatements");
                });

            modelBuilder.Entity("EIMS.Domain.Entities.TaxApiStatus", b =>
                {
                    b.Navigation("TaxApiLogs");
                });

            modelBuilder.Entity("EIMS.Domain.Entities.TemplateFrame", b =>
                {
                    b.Navigation("InvoiceTemplates");
                });

            modelBuilder.Entity("EIMS.Domain.Entities.TemplateType", b =>
                {
                    b.Navigation("InvoiceTemplates");
                });

            modelBuilder.Entity("EIMS.Domain.Entities.User", b =>
                {
                    b.Navigation("AuditLogs");

                    b.Navigation("CreatedInvoices");

                    b.Navigation("CreatedMinutes");

                    b.Navigation("CreatedStatements");

                    b.Navigation("CreatedTemplates");

                    b.Navigation("HistoryActions");

                    b.Navigation("InvoiceRequests");

                    b.Navigation("IssuedInvoices");

                    b.Navigation("ManagedCustomers");

                    b.Navigation("Notifications");

                    b.Navigation("RefreshTokens");

                    b.Navigation("SalesInvoices");
                });
#pragma warning restore 612, 618
        }
    }
}
